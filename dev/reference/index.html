<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · CounterfactualExplanations.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://pat-alt.github.io/CounterfactualExplanations.jl/reference/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CounterfactualExplanations.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../cats_dogs/">Motivating example</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Overview</a></li><li><a class="tocitem" href="../tutorials/binary/">Binary target</a></li><li><a class="tocitem" href="../tutorials/models/">Custom models</a></li><li><a class="tocitem" href="../tutorials/multi/">Multi-class target</a></li><li><a class="tocitem" href="../tutorials/generators/">Custom generators</a></li><li><a class="tocitem" href="../tutorials/mutability/">Mutability constraints</a></li><li><a class="tocitem" href="../tutorials/interop/">Interoperability</a></li></ul></li><li><span class="tocitem">More examples</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Image data</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/image/MNIST/">MNIST</a></li></ul></li></ul></li><li><span class="tocitem">Contributor&#39;s Guide</span><ul><li><a class="tocitem" href="../contributing/">Overview</a></li><li><a class="tocitem" href="../contributing/loss/">Loss functions</a></li></ul></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Exported-functions"><span>Exported functions</span></a></li><li><a class="tocitem" href="#Internal-functions"><span>Internal functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/master/docs/src/reference.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="All-functions-and-types"><a class="docs-heading-anchor" href="#All-functions-and-types">All functions and types</a><a id="All-functions-and-types-1"></a><a class="docs-heading-anchor-permalink" href="#All-functions-and-types" title="Permalink"></a></h1><ul><li><a href="#CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{AbstractArray, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.CounterfactualData</code></a></li><li><a href="#CounterfactualExplanations.Generators.AbstractGenerator"><code>CounterfactualExplanations.Generators.AbstractGenerator</code></a></li><li><a href="#CounterfactualExplanations.Generators.AbstractGradientBasedGenerator"><code>CounterfactualExplanations.Generators.AbstractGradientBasedGenerator</code></a></li><li><a href="#CounterfactualExplanations.Generators.GenericGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GenericGenerator</code></a></li><li><a href="#CounterfactualExplanations.Generators.GreedyGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GreedyGenerator</code></a></li><li><a href="#CounterfactualExplanations.Models.AbstractFittedModel"><code>CounterfactualExplanations.Models.AbstractFittedModel</code></a></li><li><a href="#CounterfactualExplanations.Models.BayesianLogisticModel"><code>CounterfactualExplanations.Models.BayesianLogisticModel</code></a></li><li><a href="#CounterfactualExplanations.Models.LogisticModel"><code>CounterfactualExplanations.Models.LogisticModel</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.apply_mutability-Tuple{AbstractArray, CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.apply_mutability</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.converged-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.converged</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.counterfactual-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.counterfactual</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.counterfactual_label-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.counterfactual_label</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.counterfactual_probability-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.counterfactual_probability</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.encode_target-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.encode_target</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.factual-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.factual</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.factual_label-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.factual_label</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.factual_probability-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.factual_probability</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.get_counterfactual_state-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.get_counterfactual_state</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.initialize!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.initialize!</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.output_dim-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.output_dim</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.path-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.path</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.steps_exhausted-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.steps_exhausted</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.target_probs"><code>CounterfactualExplanations.Counterfactuals.target_probs</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.terminated-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.terminated</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.threshold_reached-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.threshold_reached</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.total_steps-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.total_steps</code></a></li><li><a href="#CounterfactualExplanations.Counterfactuals.update!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.update!</code></a></li><li><a href="#CounterfactualExplanations.Data.cats_dogs_laplace-Tuple{}"><code>CounterfactualExplanations.Data.cats_dogs_laplace</code></a></li><li><a href="#CounterfactualExplanations.Data.cats_dogs_model-Tuple{}"><code>CounterfactualExplanations.Data.cats_dogs_model</code></a></li><li><a href="#CounterfactualExplanations.Data.mnist_data-Tuple{}"><code>CounterfactualExplanations.Data.mnist_data</code></a></li><li><a href="#CounterfactualExplanations.Data.mnist_ensemble-Tuple{}"><code>CounterfactualExplanations.Data.mnist_ensemble</code></a></li><li><a href="#CounterfactualExplanations.Data.mnist_model-Tuple{}"><code>CounterfactualExplanations.Data.mnist_model</code></a></li><li><a href="#CounterfactualExplanations.Data.toy_data_linear"><code>CounterfactualExplanations.Data.toy_data_linear</code></a></li><li><a href="#CounterfactualExplanations.Data.toy_data_multi"><code>CounterfactualExplanations.Data.toy_data_multi</code></a></li><li><a href="#CounterfactualExplanations.Data.toy_data_non_linear"><code>CounterfactualExplanations.Data.toy_data_non_linear</code></a></li><li><a href="#CounterfactualExplanations.Data.ucr_data-Tuple{}"><code>CounterfactualExplanations.Data.ucr_data</code></a></li><li><a href="#CounterfactualExplanations.Data.ucr_model-Tuple{}"><code>CounterfactualExplanations.Data.ucr_model</code></a></li><li><a href="#CounterfactualExplanations.DataPreprocessing.apply_domain_constraints-Tuple{CounterfactualData, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.apply_domain_constraints</code></a></li><li><a href="#CounterfactualExplanations.DataPreprocessing.mutability_constraints-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.mutability_constraints</code></a></li><li><a href="#CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Int64}"><code>CounterfactualExplanations.DataPreprocessing.select_factual</code></a></li><li><a href="#CounterfactualExplanations.Generators.conditions_satisified-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.conditions_satisified</code></a></li><li><a href="#CounterfactualExplanations.Generators.conditions_satisified-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.conditions_satisified</code></a></li><li><a href="#CounterfactualExplanations.Generators.generate_perturbations-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.generate_perturbations</code></a></li><li><a href="#CounterfactualExplanations.Generators.generate_perturbations-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.generate_perturbations</code></a></li><li><a href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.h</code></a></li><li><a href="#CounterfactualExplanations.Generators.mutability_constraints-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.mutability_constraints</code></a></li><li><a href="#CounterfactualExplanations.Generators.mutability_constraints-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.mutability_constraints</code></a></li><li><a href="#CounterfactualExplanations.Generators.ℓ-Tuple{AbstractGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.ℓ</code></a></li><li><a href="#CounterfactualExplanations.Generators.∂h-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∂h</code></a></li><li><a href="#CounterfactualExplanations.Generators.∂ℓ-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∂ℓ</code></a></li><li><a href="#CounterfactualExplanations.Generators.∇-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∇</code></a></li><li><a href="#CounterfactualExplanations.Generators.∇-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∇</code></a></li><li><a href="#CounterfactualExplanations.Models.logits-Tuple{BayesianLogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a></li><li><a href="#CounterfactualExplanations.Models.logits-Tuple{LogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a></li><li><a href="#CounterfactualExplanations.Models.probs-Tuple{LogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.probs</code></a></li><li><a href="#CounterfactualExplanations.Models.probs-Tuple{BayesianLogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.probs</code></a></li><li><a href="#CounterfactualExplanations.generate_counterfactual-Tuple{Union{Int64, AbstractArray}, Union{Int64, AbstractFloat}, CounterfactualData, AbstractFittedModel, AbstractGenerator}"><code>CounterfactualExplanations.generate_counterfactual</code></a></li><li><a href="#Flux.Losses.add_blanks-Tuple{Any, Any}"><code>Flux.Losses.add_blanks</code></a></li><li><a href="#Flux.Losses.binary_focal_loss-Tuple{Any, Any}"><code>Flux.Losses.binary_focal_loss</code></a></li><li><a href="#Flux.Losses.binarycrossentropy-Tuple{Any, Any}"><code>Flux.Losses.binarycrossentropy</code></a></li><li><a href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>Flux.Losses.crossentropy</code></a></li><li><a href="#Flux.Losses.ctc_loss-Tuple{AbstractArray, Any}"><code>Flux.Losses.ctc_loss</code></a></li><li><a href="#Flux.Losses.dice_coeff_loss-Tuple{Any, Any}"><code>Flux.Losses.dice_coeff_loss</code></a></li><li><a href="#Flux.Losses.focal_loss-Tuple{Any, Any}"><code>Flux.Losses.focal_loss</code></a></li><li><a href="#Flux.Losses.hinge_loss-Tuple{Any, Any}"><code>Flux.Losses.hinge_loss</code></a></li><li><a href="#Flux.Losses.huber_loss-Tuple{Any, Any}"><code>Flux.Losses.huber_loss</code></a></li><li><a href="#Flux.Losses.kldivergence-Tuple{Any, Any}"><code>Flux.Losses.kldivergence</code></a></li><li><a href="#Flux.Losses.label_smoothing-Tuple{Union{Number, AbstractArray}, Number}"><code>Flux.Losses.label_smoothing</code></a></li><li><a href="#Flux.Losses.logaddexp-Tuple{Any, Any}"><code>Flux.Losses.logaddexp</code></a></li><li><a href="#Flux.Losses.logitbinarycrossentropy-Tuple{Any, Any}"><code>Flux.Losses.logitbinarycrossentropy</code></a></li><li><a href="#Flux.Losses.logitcrossentropy-Tuple{Any, Any}"><code>Flux.Losses.logitcrossentropy</code></a></li><li><a href="#Flux.Losses.mae-Tuple{Any, Any}"><code>Flux.Losses.mae</code></a></li><li><a href="#Flux.Losses.mse-Tuple{Any, Any}"><code>Flux.Losses.mse</code></a></li><li><a href="#Flux.Losses.msle-Tuple{Any, Any}"><code>Flux.Losses.msle</code></a></li><li><a href="#Flux.Losses.poisson_loss-Tuple{Any, Any}"><code>Flux.Losses.poisson_loss</code></a></li><li><a href="#Flux.Losses.squared_hinge_loss-Tuple{Any, Any}"><code>Flux.Losses.squared_hinge_loss</code></a></li><li><a href="#Flux.Losses.tversky_loss-Tuple{Any, Any}"><code>Flux.Losses.tversky_loss</code></a></li><li><a href="#Flux.Losses.xlogx-Tuple{Any}"><code>Flux.Losses.xlogx</code></a></li><li><a href="#Flux.Losses.xlogy-Tuple{Any, Any}"><code>Flux.Losses.xlogy</code></a></li></ul><h2 id="Exported-functions"><a class="docs-heading-anchor" href="#Exported-functions">Exported functions</a><a id="Exported-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.generate_counterfactual-Tuple{Union{Int64, AbstractArray}, Union{Int64, AbstractFloat}, CounterfactualData, AbstractFittedModel, AbstractGenerator}" href="#CounterfactualExplanations.generate_counterfactual-Tuple{Union{Int64, AbstractArray}, Union{Int64, AbstractFloat}, CounterfactualData, AbstractFittedModel, AbstractGenerator}"><code>CounterfactualExplanations.generate_counterfactual</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_counterfactual(
    x::Union{AbstractArray,Int}, target::Union{AbstractFloat,Int}, data::CounterfactualData, M::Models.AbstractFittedModel, generator::AbstractGenerator;
    γ::AbstractFloat=0.75, T=1000
)</code></pre><p>The core function that is used to run counterfactual search for a given factual <code>x</code>, target, counterfactual data, model and generator. Keywords can be used to specify the desired threshold for the predicted target class probability and the maximum number of iterations.</p><p><strong>Examples</strong></p><p><strong>Generic generator</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations

# Data:
using CounterfactualExplanations.Data
using Random
Random.seed!(1234)
xs, ys = Data.toy_data_linear()
X = hcat(xs...)
counterfactual_data = CounterfactualData(X,ys&#39;)

# Model
using CounterfactualExplanations.Models: LogisticModel, probs 
# Logit model:
w = [1.0 1.0] # true coefficients
b = 0
M = LogisticModel(w, [b])

# Randomly selected factual:
x = select_factual(counterfactual_data,rand(1:size(X)[2]))
y = round(probs(M, x)[1])
target = round(probs(M, x)[1])==0 ? 1 : 0 

# Counterfactual search:
generator = GenericGenerator()
counterfactual = generate_counterfactual(x, target, counterfactual_data, M, generator)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generate_counterfactual.jl#L2-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{AbstractArray, AbstractArray}" href="#CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{AbstractArray, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.CounterfactualData</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CounterfactualData(
    X::AbstractArray, y::AbstractArray;
    mutability::Union{Vector{Symbol},Nothing}=nothing,
    domain::Union{Any,Nothing}=nothing,
    categorical::Union{Vector{Int},Nothing}=nothing,
    continuous::Union{Vector{Int},Nothing}=nothing,
)</code></pre><p>This outer constructor method prepares features <code>X</code> and labels <code>y</code> to be used with the package. Mutability and domain constraints can be added for the features. The function also accepts arguments that specify which features are categorical and which are continues. These arguments are currently not used. </p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations.Data
x, y = toy_data_linear()
X = hcat(x...)
counterfactual_data = CounterfactualData(X,y&#39;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data_preprocessing/functions.jl#L20-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.apply_domain_constraints-Tuple{CounterfactualData, AbstractArray}" href="#CounterfactualExplanations.DataPreprocessing.apply_domain_constraints-Tuple{CounterfactualData, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.apply_domain_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_domain_constraints(counterfactual_data::CounterfactualData, x::AbstractArray)</code></pre><p>A subroutine that is used to apply the predetermined domain constraints.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data_preprocessing/functions.jl#L78-L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Int64}" href="#CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Int64}"><code>CounterfactualExplanations.DataPreprocessing.select_factual</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">select_factual(counterfactual_data::CounterfactualData, index::Int)</code></pre><p>A convenience method that can be used to access the the feature matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data_preprocessing/functions.jl#L64-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.converged-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.converged-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.converged</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">converged(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to determine if the counterfactual search has converged.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L180-L184">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.initialize!-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.initialize!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.initialize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">initialize!(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A subroutine that intializes the counterfactual search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.path-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.path-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">path(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method that returns the entire counterfactual path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L194-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.target_probs" href="#CounterfactualExplanations.Counterfactuals.target_probs"><code>CounterfactualExplanations.Counterfactuals.target_probs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">target_probs(counterfactual_explanation::CounterfactualExplanation, x::Union{AbstractArray, Nothing}=nothing)</code></pre><p>Returns the predicted probability of the target class for <code>x</code>. If <code>x</code> is <code>nothing</code>, the predicted probability corresponding to the counterfactual value is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L201-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.terminated-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.terminated-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.terminated</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">terminated(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to determine if the counterfactual search has terminated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L173-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.total_steps-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.total_steps-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.total_steps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_steps(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method that returns the total number of steps of the counterfactual search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L187-L191">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.update!-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.update!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.update!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update!(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>An important subroutine that updates the counterfactual explanation. It takes a snapshot of the current counterfactual search state and passes it to the generator. Based on the current state the generator generates perturbations. Various constraints are then applied to the proposed vector of feature perturbations. Finally, the counterfactual search state is updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L283-L287">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractFittedModel" href="#CounterfactualExplanations.Models.AbstractFittedModel"><code>CounterfactualExplanations.Models.AbstractFittedModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>AbstractFittedModel</p><p>Base type for fitted models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.BayesianLogisticModel" href="#CounterfactualExplanations.Models.BayesianLogisticModel"><code>CounterfactualExplanations.Models.BayesianLogisticModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BayesianLogisticModel(μ::Matrix,Σ::Matrix)</code></pre><p>Constructs a Bayesian logistic classifier based on maximum a posteriori (MAP) estimates <code>μ</code> (coefficients including constant term(s)) and <code>Σ</code> (covariance matrix). </p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using Random, LinearAlgebra
Random.seed!(1234)
μ = [0 1.0 -2.0] # MAP coefficients
Σ = Symmetric(reshape(randn(9),3,3).*0.1 + UniformScaling(1.0)) # MAP covariance matrix
M = CounterfactualExplanations.Models.BayesianLogisticModel(μ, Σ);</code></pre><p>See also:</p><ul><li><a href="#CounterfactualExplanations.Models.logits-Tuple{BayesianLogisticModel, AbstractArray}"><code>logits(M::BayesianLogisticModel, X::AbstractArray)</code></a></li><li><a href="#CounterfactualExplanations.Models.probs-Tuple{BayesianLogisticModel, AbstractArray}"><code>probs(M::BayesianLogisticModel, X::AbstractArray)</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L77-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.LogisticModel" href="#CounterfactualExplanations.Models.LogisticModel"><code>CounterfactualExplanations.Models.LogisticModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LogisticModel(W::Matrix,b::AbstractArray)</code></pre><p>Constructs a logistic classifier based on arrays containing coefficients <code>w</code> and constant terms <code>b</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">w = [1.0 -2.0] # estimated coefficients
b = [0] # estimated constant
M = CounterfactualExplanations.Models.LogisticModel(w, b);</code></pre><p>See also: </p><ul><li><a href="#CounterfactualExplanations.Models.logits-Tuple{LogisticModel, AbstractArray}"><code>logits(M::LogisticModel, X::AbstractArray)</code></a></li><li><a href="#CounterfactualExplanations.Models.probs-Tuple{LogisticModel, AbstractArray}"><code>probs(M::LogisticModel, X::AbstractArray)</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L13-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.logits-Tuple{BayesianLogisticModel, AbstractArray}" href="#CounterfactualExplanations.Models.logits-Tuple{BayesianLogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logits(M::BayesianLogisticModel, X::AbstractArray)</code></pre><p>Computes logits as <code>μ[1ᵀ Xᵀ]ᵀ</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations.Models
using Random, LinearAlgebra
Random.seed!(1234)
μ = [0 1.0 -2.0] # MAP coefficients
Σ = Symmetric(reshape(randn(9),3,3).*0.1 + UniformScaling(1.0)) # MAP covariance matrix
M = BayesianLogisticModel(μ, Σ);
x = [1,1]
logits(M, x)</code></pre><p>See also <a href="#CounterfactualExplanations.Models.BayesianLogisticModel"><code>BayesianLogisticModel(μ::Matrix,Σ::Matrix)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L103-L122">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.logits-Tuple{LogisticModel, AbstractArray}" href="#CounterfactualExplanations.Models.logits-Tuple{LogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logits(M::LogisticModel, X::AbstractArray)</code></pre><p>Computes logits as <code>WX+b</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations.Models
w = [1.0 -2.0] # estimated coefficients
b = [0] # estimated constant
M = LogisticModel(w, b);
x = [1,1]
logits(M, x)</code></pre><p>See also <a href="#CounterfactualExplanations.Models.LogisticModel"><code>LogisticModel(W::Matrix,b::AbstractArray)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L36-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{BayesianLogisticModel, AbstractArray}" href="#CounterfactualExplanations.Models.probs-Tuple{BayesianLogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.probs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::BayesianLogisticModel, X::AbstractArray)</code></pre><p>Computes predictive probabilities using a Probit approximation. </p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations.Models
using Random, LinearAlgebra
Random.seed!(1234)
μ = [0 1.0 -2.0] # MAP coefficients
Σ = Symmetric(reshape(randn(9),3,3).*0.1 + UniformScaling(1.0)) # MAP covariance matrix
M = BayesianLogisticModel(μ, Σ);
x = [1,1]
probs(M, x)</code></pre><p>See also <a href="#CounterfactualExplanations.Models.BayesianLogisticModel"><code>BayesianLogisticModel(μ::Matrix,Σ::Matrix)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L131-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{LogisticModel, AbstractArray}" href="#CounterfactualExplanations.Models.probs-Tuple{LogisticModel, AbstractArray}"><code>CounterfactualExplanations.Models.probs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::LogisticModel, X::AbstractArray)</code></pre><p>Computes predictive probabilities from logits as <code>σ(WX+b)</code> where &#39;σ&#39; is the <a href="https://en.wikipedia.org/wiki/Sigmoid_function">sigmoid function</a>. </p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations.Models
w = [1.0 -2.0] # estimated coefficients
b = [0] # estimated constant
M = LogisticModel(w, b);
x = [1,1]
probs(M, x)</code></pre><p>See also <a href="#CounterfactualExplanations.Models.LogisticModel"><code>LogisticModel(W::Matrix,b::AbstractArray)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/models/functions.jl#L56-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.AbstractGenerator" href="#CounterfactualExplanations.Generators.AbstractGenerator"><code>CounterfactualExplanations.Generators.AbstractGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractGenerator</code></pre><p>An abstract type that serves as the base type for counterfactual generators. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L16-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.AbstractGradientBasedGenerator" href="#CounterfactualExplanations.Generators.AbstractGradientBasedGenerator"><code>CounterfactualExplanations.Generators.AbstractGradientBasedGenerator</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractGradientBasedGenerator</code></pre><p>An abstract type that serves as the base type for gradient-based counterfactual generators. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GenericGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GenericGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GenericGenerator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GenericGenerator(
    ;
    loss::Symbol=:logitbinarycrossentropy,
    complexity::Function=norm,
    mutability::Union{Nothing,Vector{Symbol}}=nothing,
    λ::AbstractFloat=0.1,
    ϵ::AbstractFloat=0.1,
    τ::AbstractFloat=1e-5
)</code></pre><p>An outer constructor method that instantiates a generic generator.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">generator = GenericGenerator()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L127-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GreedyGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GreedyGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GreedyGenerator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GreedyGenerator(
    ;
    loss::Symbol=:logitbinarycrossentropy,
    mutability::Union{Nothing,Vector{Symbol}}=nothing,
    δ::Union{AbstractFloat,Nothing}=nothing,
    n::Union{Int,Nothing}=nothing
)</code></pre><p>An outer constructor method that instantiates a greedy generator.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">generator = GreedyGenerator()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L163-L179">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.conditions_satisified-Tuple{AbstractGradientBasedGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.conditions_satisified-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.conditions_satisified</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">conditions_satisified(generator::AbstractGradientBasedGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to check if the all conditions for convergence of the counterfactual search have been satisified for gradient-based generators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L104-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.conditions_satisified-Tuple{GreedyGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.conditions_satisified-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.conditions_satisified</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">conditions_satisified(generator::GreedyGenerator, counterfactual_state::CounterfactualState)</code></pre><p>If all features have been perturbed <code>n</code> times already, then the search terminates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L234-L238">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.generate_perturbations-Tuple{AbstractGradientBasedGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.generate_perturbations-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.generate_perturbations</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_perturbations(generator::AbstractGradientBasedGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to generate feature perturbations for gradient-based generators through simple gradient descent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L83-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.generate_perturbations-Tuple{GreedyGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.generate_perturbations-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.generate_perturbations</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_perturbations(generator::GreedyGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to generate perturbations for a greedy generator. Only the most salient feature is perturbed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L209-L213">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.mutability_constraints-Tuple{AbstractGradientBasedGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.mutability_constraints-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.mutability_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mutability_constraints(generator::AbstractGradientBasedGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to return mutability constraints that are dependent on the current counterfactual search state. For generic gradient-based generators, no state-dependent constraints are added.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L94-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.mutability_constraints-Tuple{GreedyGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.mutability_constraints-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.mutability_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mutability_constraints(generator::GreedyGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to return search state dependent mutability constraints for a greedy generator. Features that have been perturbed <code>n</code> times already can no longer be perturbed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L223-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.binary_focal_loss-Tuple{Any, Any}" href="#Flux.Losses.binary_focal_loss-Tuple{Any, Any}"><code>Flux.Losses.binary_focal_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">binary_focal_loss(ŷ, y; agg=mean, γ=2, ϵ=eps(ŷ))</code></pre><p>Return the <a href="https://arxiv.org/pdf/1708.02002.pdf">binary<em>focal</em>loss</a> The input, &#39;ŷ&#39;, is expected to be normalized (i.e. <a href="@ref"><code>softmax</code></a> output).</p><p>For <code>γ == 0</code>, the loss is mathematically equivalent to <a href="#Flux.Losses.binarycrossentropy-Tuple{Any, Any}"><code>Losses.binarycrossentropy</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y = [0  1  0
            1  0  1]
2×3 Matrix{Int64}:
 0  1  0
 1  0  1

julia&gt; ŷ = [0.268941  0.5  0.268941
            0.731059  0.5  0.731059]
2×3 Matrix{Float64}:
 0.268941  0.5  0.268941
 0.731059  0.5  0.731059

julia&gt; Flux.binary_focal_loss(ŷ, y) ≈ 0.0728675615927385
true</code></pre><p>See also: <a href="#Flux.Losses.focal_loss-Tuple{Any, Any}"><code>Losses.focal_loss</code></a> for multi-class setting</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.binarycrossentropy-Tuple{Any, Any}" href="#Flux.Losses.binarycrossentropy-Tuple{Any, Any}"><code>Flux.Losses.binarycrossentropy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">binarycrossentropy(ŷ, y; agg = mean, ϵ = eps(ŷ))</code></pre><p>Return the binary cross-entropy loss, computed as</p><pre><code class="nohighlight hljs">agg(@.(-y * log(ŷ + ϵ) - (1 - y) * log(1 - ŷ + ϵ)))</code></pre><p>Where typically, the prediction <code>ŷ</code> is given by the output of a <a href="@ref"><code>sigmoid</code></a> activation. The <code>ϵ</code> term is included to avoid infinity. Using <a href="#Flux.Losses.logitbinarycrossentropy-Tuple{Any, Any}"><code>logitbinarycrossentropy</code></a> is recomended over <code>binarycrossentropy</code> for numerical stability.</p><p>Use <a href="#Flux.Losses.label_smoothing-Tuple{Union{Number, AbstractArray}, Number}"><code>label_smoothing</code></a> to smooth the <code>y</code> value as preprocessing before computing the loss.</p><p>See also: <a href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>crossentropy</code></a>, <a href="#Flux.Losses.logitcrossentropy-Tuple{Any, Any}"><code>logitcrossentropy</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y_bin = Bool[1,0,1]
3-element Vector{Bool}:
 1
 0
 1

julia&gt; y_prob = softmax(reshape(vcat(1:3, 3:5), 2, 3) .* 1f0)
2×3 Matrix{Float32}:
 0.268941  0.5  0.268941
 0.731059  0.5  0.731059

julia&gt; Flux.binarycrossentropy(y_prob[2,:], y_bin)
0.43989f0

julia&gt; all(p -&gt; 0 &lt; p &lt; 1, y_prob[2,:])  # else DomainError
true

julia&gt; y_hot = Flux.onehotbatch(y_bin, 0:1)
2×3 OneHotMatrix(::Vector{UInt32}) with eltype Bool:
 ⋅  1  ⋅
 1  ⋅  1

julia&gt; Flux.crossentropy(y_prob, y_hot)
0.43989f0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.crossentropy-Tuple{Any, Any}" href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>Flux.Losses.crossentropy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">crossentropy(ŷ, y; dims = 1, ϵ = eps(ŷ), agg = mean)</code></pre><p>Return the cross entropy between the given probability distributions; calculated as</p><pre><code class="nohighlight hljs">agg(-sum(y .* log.(ŷ .+ ϵ); dims))</code></pre><p>Cross entropy is typically used as a loss in multi-class classification, in which case the labels <code>y</code> are given in a one-hot format. <code>dims</code> specifies the dimension (or the dimensions) containing the class probabilities. The prediction <code>ŷ</code> is supposed to sum to one across <code>dims</code>, as would be the case with the output of a <a href="@ref"><code>softmax</code></a> operation.</p><p>For numerical stability, it is recommended to use <a href="#Flux.Losses.logitcrossentropy-Tuple{Any, Any}"><code>logitcrossentropy</code></a> rather than <code>softmax</code> followed by <code>crossentropy</code> .</p><p>Use <a href="#Flux.Losses.label_smoothing-Tuple{Union{Number, AbstractArray}, Number}"><code>label_smoothing</code></a> to smooth the true labels as preprocessing before computing the loss.</p><p>See also: <a href="#Flux.Losses.logitcrossentropy-Tuple{Any, Any}"><code>logitcrossentropy</code></a>, <a href="#Flux.Losses.binarycrossentropy-Tuple{Any, Any}"><code>binarycrossentropy</code></a>, <a href="#Flux.Losses.logitbinarycrossentropy-Tuple{Any, Any}"><code>logitbinarycrossentropy</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y_label = Flux.onehotbatch([0, 1, 2, 1, 0], 0:2)
3×5 OneHotMatrix(::Vector{UInt32}) with eltype Bool:
 1  ⋅  ⋅  ⋅  1
 ⋅  1  ⋅  1  ⋅
 ⋅  ⋅  1  ⋅  ⋅

julia&gt; y_model = softmax(reshape(-7:7, 3, 5) .* 1f0)
3×5 Matrix{Float32}:
 0.0900306  0.0900306  0.0900306  0.0900306  0.0900306
 0.244728   0.244728   0.244728   0.244728   0.244728
 0.665241   0.665241   0.665241   0.665241   0.665241

julia&gt; sum(y_model; dims=1)
1×5 Matrix{Float32}:
 1.0  1.0  1.0  1.0  1.0

julia&gt; Flux.crossentropy(y_model, y_label)
1.6076053f0

julia&gt; 5 * ans ≈ Flux.crossentropy(y_model, y_label; agg=sum)
true

julia&gt; y_smooth = Flux.label_smoothing(y_label, 0.15f0)
3×5 Matrix{Float32}:
 0.9   0.05  0.05  0.05  0.9
 0.05  0.9   0.05  0.9   0.05
 0.05  0.05  0.9   0.05  0.05

julia&gt; Flux.crossentropy(y_model, y_smooth)
1.5776052f0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.ctc_loss-Tuple{AbstractArray, Any}" href="#Flux.Losses.ctc_loss-Tuple{AbstractArray, Any}"><code>Flux.Losses.ctc_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><p>ctc_loss(ŷ, y)</p><p>Computes the connectionist temporal classification loss between <code>ŷ</code> and <code>y</code>.</p><p><code>ŷ</code> must be a classes-by-time matrices, i.e., each row represents a class and each column represents a time step. Additionally, the <code>logsoftmax</code> function will be applied to <code>ŷ</code>, so <code>ŷ</code> must be the raw activation values from the neural network and not, for example, the activations after being passed through a <code>softmax</code> activation function. <code>y</code> must be a 1D array of the labels associated with <code>ŷ</code>. The blank label is assumed to be the last label category in <code>ŷ</code>, so it is equivalent to <code>size(ŷ, 1)</code>.</p><p>Used for sequence-to-sequence classification problems such as speech recognition and handwriting recognition where the exact time-alignment of the output (e.g., letters) is not needed to solve the problem. See <a href="https://www.cs.toronto.edu/~graves/icml_2006.pdf">Graves et al. (2006)</a> or <a href="https://www.cs.toronto.edu/~graves/preprint.pdf#chapter.7">Graves (2012)</a> for mathematical details.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.dice_coeff_loss-Tuple{Any, Any}" href="#Flux.Losses.dice_coeff_loss-Tuple{Any, Any}"><code>Flux.Losses.dice_coeff_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dice_coeff_loss(ŷ, y; smooth = 1)</code></pre><p>Return a loss based on the dice coefficient. Used in the <a href="https://arxiv.org/abs/1606.04797">V-Net</a> image segmentation architecture. Similar to the F1_score. Calculated as:</p><pre><code class="nohighlight hljs">1 - 2*sum(|ŷ .* y| + smooth) / (sum(ŷ.^2) + sum(y.^2) + smooth)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.focal_loss-Tuple{Any, Any}" href="#Flux.Losses.focal_loss-Tuple{Any, Any}"><code>Flux.Losses.focal_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">focal_loss(ŷ, y; dims=1, agg=mean, γ=2, ϵ=eps(ŷ))</code></pre><p>Return the <a href="https://arxiv.org/pdf/1708.02002.pdf">focal_loss</a> which can be used in classification tasks with highly imbalanced classes. It down-weights well-classified examples and focuses on hard examples. The input, &#39;ŷ&#39;, is expected to be normalized (i.e. <a href="@ref"><code>softmax</code></a> output).</p><p>The modulating factor, <code>γ</code>, controls the down-weighting strength. For <code>γ == 0</code>, the loss is mathematically equivalent to <a href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>Losses.crossentropy</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y = [1  0  0  0  1
            0  1  0  1  0
            0  0  1  0  0]
3×5 Matrix{Int64}:
 1  0  0  0  1
 0  1  0  1  0
 0  0  1  0  0

julia&gt; ŷ = softmax(reshape(-7:7, 3, 5) .* 1f0)
3×5 Matrix{Float32}:
 0.0900306  0.0900306  0.0900306  0.0900306  0.0900306
 0.244728   0.244728   0.244728   0.244728   0.244728
 0.665241   0.665241   0.665241   0.665241   0.665241

julia&gt; Flux.focal_loss(ŷ, y) ≈ 1.1277571935622628
true</code></pre><p>See also: <a href="#Flux.Losses.binary_focal_loss-Tuple{Any, Any}"><code>Losses.binary_focal_loss</code></a> for binary (not one-hot) labels</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.hinge_loss-Tuple{Any, Any}" href="#Flux.Losses.hinge_loss-Tuple{Any, Any}"><code>Flux.Losses.hinge_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hinge_loss(ŷ, y; agg = mean)</code></pre><p>Return the <a href="https://en.wikipedia.org/wiki/Hinge_loss">hinge_loss loss</a> given the prediction <code>ŷ</code> and true labels <code>y</code> (containing 1 or -1); calculated as <code>sum(max.(0, 1 .- ŷ .* y)) / size(y, 2)</code>.</p><p>See also: <a href="#Flux.Losses.squared_hinge_loss-Tuple{Any, Any}"><code>squared_hinge_loss</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.huber_loss-Tuple{Any, Any}" href="#Flux.Losses.huber_loss-Tuple{Any, Any}"><code>Flux.Losses.huber_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">huber_loss(ŷ, y; δ = 1, agg = mean)</code></pre><p>Return the mean of the <a href="https://en.wikipedia.org/wiki/Huber_loss">Huber loss</a> given the prediction <code>ŷ</code> and true values <code>y</code>.</p><pre><code class="nohighlight hljs">             | 0.5 * |ŷ - y|^2,            for |ŷ - y| &lt;= δ
Huber loss = |
             |  δ * (|ŷ - y| - 0.5 * δ), otherwise</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.kldivergence-Tuple{Any, Any}" href="#Flux.Losses.kldivergence-Tuple{Any, Any}"><code>Flux.Losses.kldivergence</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">kldivergence(ŷ, y; agg = mean, ϵ = eps(ŷ))</code></pre><p>Return the <a href="https://en.wikipedia.org/wiki/Kullback%E2%80%93Leibler_divergence">Kullback-Leibler divergence</a> between the given probability distributions.</p><p>The KL divergence is a measure of how much one probability distribution is different from the other. It is always non-negative, and zero only when both the distributions are equal.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; p1 = [1 0; 0 1]
2×2 Matrix{Int64}:
 1  0
 0  1

julia&gt; p2 = fill(0.5, 2, 2)
2×2 Matrix{Float64}:
 0.5  0.5
 0.5  0.5

julia&gt; Flux.kldivergence(p2, p1) ≈ log(2)
true

julia&gt; Flux.kldivergence(p2, p1; agg = sum) ≈ 2log(2)
true

julia&gt; Flux.kldivergence(p2, p2; ϵ = 0)  # about -2e-16 with the regulator
0.0

julia&gt; Flux.kldivergence(p1, p2; ϵ = 0)  # about 17.3 with the regulator
Inf</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.label_smoothing-Tuple{Union{Number, AbstractArray}, Number}" href="#Flux.Losses.label_smoothing-Tuple{Union{Number, AbstractArray}, Number}"><code>Flux.Losses.label_smoothing</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">label_smoothing(y::Union{Number, AbstractArray}, α; dims::Int=1)</code></pre><p>Returns smoothed labels, meaning the confidence on label values are relaxed.</p><p>When <code>y</code> is given as one-hot vector or batch of one-hot, its calculated as</p><pre><code class="nohighlight hljs">y .* (1 - α) .+ α / size(y, dims)</code></pre><p>when <code>y</code> is given as a number or batch of numbers for binary classification, its calculated as</p><pre><code class="nohighlight hljs">y .* (1 - α) .+ α / 2</code></pre><p>in which case the labels are squeezed towards <code>0.5</code>.</p><p>α is a number in interval (0, 1) called the smoothing factor. Higher the value of α larger the smoothing of <code>y</code>.</p><p><code>dims</code> denotes the one-hot dimension, unless <code>dims=0</code> which denotes the application of label smoothing to binary distributions encoded in a single number.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y = Flux.onehotbatch([1, 1, 1, 0, 1, 0], 0:1)
2×6 OneHotMatrix(::Vector{UInt32}) with eltype Bool:
 ⋅  ⋅  ⋅  1  ⋅  1
 1  1  1  ⋅  1  ⋅

julia&gt; y_smoothed = Flux.label_smoothing(y, 0.2f0)
2×6 Matrix{Float32}:
 0.1  0.1  0.1  0.9  0.1  0.9
 0.9  0.9  0.9  0.1  0.9  0.1

julia&gt; y_sim = softmax(y .* log(2f0))
2×6 Matrix{Float32}:
 0.333333  0.333333  0.333333  0.666667  0.333333  0.666667
 0.666667  0.666667  0.666667  0.333333  0.666667  0.333333

julia&gt; y_dis = vcat(y_sim[2,:]&#39;, y_sim[1,:]&#39;)
2×6 Matrix{Float32}:
 0.666667  0.666667  0.666667  0.333333  0.666667  0.333333
 0.333333  0.333333  0.333333  0.666667  0.333333  0.666667

julia&gt; Flux.crossentropy(y_sim, y) &lt; Flux.crossentropy(y_sim, y_smoothed)
true

julia&gt; Flux.crossentropy(y_dis, y) &gt; Flux.crossentropy(y_dis, y_smoothed)
true</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.logitbinarycrossentropy-Tuple{Any, Any}" href="#Flux.Losses.logitbinarycrossentropy-Tuple{Any, Any}"><code>Flux.Losses.logitbinarycrossentropy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logitbinarycrossentropy(ŷ, y; agg = mean)</code></pre><p>Mathematically equivalent to <a href="#Flux.Losses.binarycrossentropy-Tuple{Any, Any}"><code>binarycrossentropy(σ(ŷ), y)</code></a> but is more numerically stable.</p><p>See also: <a href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>crossentropy</code></a>, <a href="#Flux.Losses.logitcrossentropy-Tuple{Any, Any}"><code>logitcrossentropy</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y_bin = Bool[1,0,1];

julia&gt; y_model = Float32[2, -1, pi]
3-element Vector{Float32}:
  2.0
 -1.0
  3.1415927

julia&gt; Flux.logitbinarycrossentropy(y_model, y_bin)
0.160832f0

julia&gt; Flux.binarycrossentropy(sigmoid.(y_model), y_bin)
0.16083185f0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.logitcrossentropy-Tuple{Any, Any}" href="#Flux.Losses.logitcrossentropy-Tuple{Any, Any}"><code>Flux.Losses.logitcrossentropy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logitcrossentropy(ŷ, y; dims = 1, agg = mean)</code></pre><p>Return the cross entropy calculated by</p><pre><code class="nohighlight hljs">agg(-sum(y .* logsoftmax(ŷ; dims); dims))</code></pre><p>This is mathematically equivalent to <code>crossentropy(softmax(ŷ), y)</code>, but is more numerically stable than using functions <a href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>crossentropy</code></a> and <a href="@ref"><code>softmax</code></a> separately.</p><p>See also: <a href="#Flux.Losses.binarycrossentropy-Tuple{Any, Any}"><code>binarycrossentropy</code></a>, <a href="#Flux.Losses.logitbinarycrossentropy-Tuple{Any, Any}"><code>logitbinarycrossentropy</code></a>, <a href="#Flux.Losses.label_smoothing-Tuple{Union{Number, AbstractArray}, Number}"><code>label_smoothing</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y_label = Flux.onehotbatch(collect(&quot;abcabaa&quot;), &#39;a&#39;:&#39;c&#39;)
3×7 OneHotMatrix(::Vector{UInt32}) with eltype Bool:
 1  ⋅  ⋅  1  ⋅  1  1
 ⋅  1  ⋅  ⋅  1  ⋅  ⋅
 ⋅  ⋅  1  ⋅  ⋅  ⋅  ⋅

julia&gt; y_model = reshape(vcat(-9:0, 0:9, 7.5f0), 3, 7)
3×7 Matrix{Float32}:
 -9.0  -6.0  -3.0  0.0  2.0  5.0  8.0
 -8.0  -5.0  -2.0  0.0  3.0  6.0  9.0
 -7.0  -4.0  -1.0  1.0  4.0  7.0  7.5

julia&gt; Flux.logitcrossentropy(y_model, y_label)
1.5791205f0

julia&gt; Flux.crossentropy(softmax(y_model), y_label)
1.5791197f0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.mae-Tuple{Any, Any}" href="#Flux.Losses.mae-Tuple{Any, Any}"><code>Flux.Losses.mae</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mae(ŷ, y; agg = mean)</code></pre><p>Return the loss corresponding to mean absolute error:</p><pre><code class="nohighlight hljs">agg(abs.(ŷ .- y))</code></pre><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y_model = [1.1, 1.9, 3.1];

julia&gt; Flux.mae(y_model, 1:3)
0.10000000000000009</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.mse-Tuple{Any, Any}" href="#Flux.Losses.mse-Tuple{Any, Any}"><code>Flux.Losses.mse</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mse(ŷ, y; agg = mean)</code></pre><p>Return the loss corresponding to mean square error:</p><pre><code class="nohighlight hljs">agg((ŷ .- y) .^ 2)</code></pre><p>See also: <a href="#Flux.Losses.mae-Tuple{Any, Any}"><code>mae</code></a>, <a href="#Flux.Losses.msle-Tuple{Any, Any}"><code>msle</code></a>, <a href="#Flux.Losses.crossentropy-Tuple{Any, Any}"><code>crossentropy</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; y_model = [1.1, 1.9, 3.1];

julia&gt; y_true = 1:3;

julia&gt; Flux.mse(y_model, y_true)
0.010000000000000018</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.msle-Tuple{Any, Any}" href="#Flux.Losses.msle-Tuple{Any, Any}"><code>Flux.Losses.msle</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">msle(ŷ, y; agg = mean, ϵ = eps(ŷ))</code></pre><p>The loss corresponding to mean squared logarithmic errors, calculated as</p><pre><code class="nohighlight hljs">agg((log.(ŷ .+ ϵ) .- log.(y .+ ϵ)) .^ 2)</code></pre><p>The <code>ϵ</code> term provides numerical stability. Penalizes an under-estimation more than an over-estimatation.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; Flux.msle(Float32[1.1, 2.2, 3.3], 1:3)
0.009084041f0

julia&gt; Flux.msle(Float32[0.9, 1.8, 2.7], 1:3)
0.011100831f0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.poisson_loss-Tuple{Any, Any}" href="#Flux.Losses.poisson_loss-Tuple{Any, Any}"><code>Flux.Losses.poisson_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">poisson_loss(ŷ, y)</code></pre><p><strong>Return how much the predicted distribution <code>ŷ</code> diverges from the expected Poisson</strong></p><p><strong>distribution <code>y</code>; calculated as <code>sum(ŷ .- y .* log.(ŷ)) / size(y, 2)</code>.</strong></p><p><a href="https://peltarion.com/knowledge-center/documentation/modeling-view/build-an-ai-model/loss-functions/poisson">More information.</a>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.squared_hinge_loss-Tuple{Any, Any}" href="#Flux.Losses.squared_hinge_loss-Tuple{Any, Any}"><code>Flux.Losses.squared_hinge_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">squared_hinge_loss(ŷ, y)</code></pre><p>Return the squared hinge_loss loss given the prediction <code>ŷ</code> and true labels <code>y</code> (containing 1 or -1); calculated as <code>sum((max.(0, 1 .- ŷ .* y)).^2) / size(y, 2)</code>.</p><p>See also: <a href="#Flux.Losses.hinge_loss-Tuple{Any, Any}"><code>hinge_loss</code></a></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.tversky_loss-Tuple{Any, Any}" href="#Flux.Losses.tversky_loss-Tuple{Any, Any}"><code>Flux.Losses.tversky_loss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tversky_loss(ŷ, y; β = 0.7)</code></pre><p>Return the <a href="https://arxiv.org/abs/1706.05721">Tversky loss</a>. Used with imbalanced data to give more weight to false negatives. Larger β weigh recall more than precision (by placing more emphasis on false negatives) Calculated as:     1 - sum(|y .* ŷ| + 1) / (sum(y .* ŷ + β<em>(1 .- y) .</em> ŷ + (1 - β)<em>y .</em> (1 .- ŷ)) + 1)</p></div></section></article><h2 id="Internal-functions"><a class="docs-heading-anchor" href="#Internal-functions">Internal functions</a><a id="Internal-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.cats_dogs_laplace-Tuple{}" href="#CounterfactualExplanations.Data.cats_dogs_laplace-Tuple{}"><code>CounterfactualExplanations.Data.cats_dogs_laplace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cats_dogs_laplace()</code></pre><p>A convenience function to load the pre-trained MLP with Laplace approximation to classify cats and dogs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.cats_dogs_model-Tuple{}" href="#CounterfactualExplanations.Data.cats_dogs_model-Tuple{}"><code>CounterfactualExplanations.Data.cats_dogs_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cats_dogs_model()</code></pre><p>A convenience function to load the pre-trained MLP to classify cats and dogs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.mnist_data-Tuple{}" href="#CounterfactualExplanations.Data.mnist_data-Tuple{}"><code>CounterfactualExplanations.Data.mnist_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mnist_data()</code></pre><p>A convenience function to load MNIST training data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L66-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.mnist_ensemble-Tuple{}" href="#CounterfactualExplanations.Data.mnist_ensemble-Tuple{}"><code>CounterfactualExplanations.Data.mnist_ensemble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mnist_ensemble()</code></pre><p>A convenience function to load the pre-trained deep ensemble of MLPs for MNIST training data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.mnist_model-Tuple{}" href="#CounterfactualExplanations.Data.mnist_model-Tuple{}"><code>CounterfactualExplanations.Data.mnist_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mnist_model()</code></pre><p>A convenience function to load the pre-trained MLP for MNIST training data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L78-L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.toy_data_linear" href="#CounterfactualExplanations.Data.toy_data_linear"><code>CounterfactualExplanations.Data.toy_data_linear</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toy_data_linear(N=100)</code></pre><p>A convenience function to load linearly separable synthetic data.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">toy_data_linear()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L106-L117">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.toy_data_multi" href="#CounterfactualExplanations.Data.toy_data_multi"><code>CounterfactualExplanations.Data.toy_data_multi</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toy_data_multi(N=100)</code></pre><p>A convenience function to load multi-class synthetic data.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">toy_data_multi()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L170-L181">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.toy_data_non_linear" href="#CounterfactualExplanations.Data.toy_data_non_linear"><code>CounterfactualExplanations.Data.toy_data_non_linear</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">toy_data_non_linear(N=100)</code></pre><p>A convenience function to load synthetic data that are not linearly separable.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">toy_data_non_linear()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L135-L146">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.ucr_data-Tuple{}" href="#CounterfactualExplanations.Data.ucr_data-Tuple{}"><code>CounterfactualExplanations.Data.ucr_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ucr_data()</code></pre><p>A convenience function to load UCR time series data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.ucr_model-Tuple{}" href="#CounterfactualExplanations.Data.ucr_model-Tuple{}"><code>CounterfactualExplanations.Data.ucr_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ucr_model()</code></pre><p>A convenience function to load a pre-trained classification model for the UCR time series data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data/functions.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.mutability_constraints-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.mutability_constraints-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.mutability_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mutability_constraints(counterfactual_data::CounterfactualData)</code></pre><p>A convience function that returns the mutability constraints. If none were specified, it is assumed that all features are mutable in <code>:both</code> directions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/data_preprocessing/functions.jl#L71-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.apply_mutability-Tuple{AbstractArray, CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.apply_mutability-Tuple{AbstractArray, CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.apply_mutability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_mutability(Δx′::AbstractArray, counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A subroutine that applies mutability constraints to the proposed vector of feature perturbations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L230-L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.counterfactual-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.counterfactual-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.counterfactual</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to get the counterfactual value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L146-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.counterfactual_label-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.counterfactual_label-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.counterfactual_label</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual_label(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to get the predicted label associated with the counterfactual value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L160-L164">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.counterfactual_probability-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.counterfactual_probability-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.counterfactual_probability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual_probability(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to compute the class probabilities of the counterfactual value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L153-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.encode_target-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.encode_target-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.encode_target</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">encode_target(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to encode the target variable, if necessary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.factual-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.factual-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.factual</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factual(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to get the factual value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L94-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.factual_label-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.factual_label-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.factual_label</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factual_label(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to get the predicted label associated with the factual value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.factual_probability-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.factual_probability-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.factual_probability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factual_probability(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method to compute the class probabilities of the factual value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.get_counterfactual_state-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.get_counterfactual_state-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.get_counterfactual_state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_counterfactual_state(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A subroutine that is used to take a snapshot of the current counterfactual search state. This snapshot is passed to the counterfactual generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L266-L270">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.output_dim-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.output_dim-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.output_dim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">output_dim(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method that computes the output dimension of the predictive model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.steps_exhausted-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.steps_exhausted-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.steps_exhausted</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">steps_exhausted(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method that checks if the number of maximum iterations has been exhausted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L259-L263">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Counterfactuals.threshold_reached-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Counterfactuals.threshold_reached-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Counterfactuals.threshold_reached</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">threshold_reached(counterfactual_explanation::CounterfactualExplanation)</code></pre><p>A convenience method that determines of the predefined threshold for the target class probability has been reached.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/counterfactuals/functions.jl#L252-L256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.h</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h(generator::AbstractGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to apply the generator complexity penalty to the current counterfactual state for any generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.ℓ-Tuple{AbstractGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.ℓ-Tuple{AbstractGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.ℓ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ℓ(generator::AbstractGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to apply the generator loss function to the current counterfactual state for any generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.∂h-Tuple{AbstractGradientBasedGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.∂h-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∂h</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">∂h(generator::AbstractGradientBasedGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to compute the gradient of the complexity penalty at the current counterfactual state for gradient-based generators. It assumes that <code>Zygote.jl</code> has gradient access.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L68-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.∂ℓ-Tuple{AbstractGradientBasedGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.∂ℓ-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∂ℓ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">∂ℓ(generator::AbstractGradientBasedGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to compute the gradient of the loss function at the current counterfactual state for gradient-based generators. It assumes that <code>Zygote.jl</code> has gradient access.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L61-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.∇-Tuple{AbstractGradientBasedGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.∇-Tuple{AbstractGradientBasedGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∇</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">∇(generator::AbstractGradientBasedGenerator, counterfactual_state::CounterfactualState)</code></pre><p>The default method to compute the gradient of the counterfactual search objective for gradient-based generators. It simply computes the weighted sum over partial derivates. It assumes that <code>Zygote.jl</code> has gradient access.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.∇-Tuple{GreedyGenerator, CounterfactualState}" href="#CounterfactualExplanations.Generators.∇-Tuple{GreedyGenerator, CounterfactualState}"><code>CounterfactualExplanations.Generators.∇</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">∇(generator::GreedyGenerator, counterfactual_state::CounterfactualState)</code></pre><p>he default method to compute the gradient of the counterfactual search objective for a greedy generator. Since no complexity penalty is needed, this gradients just correponds to the partial derivative with respect to the loss function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/pat-alt/CounterfactualExplanations.jl/blob/8134604f22e917e077d68194c900cfdac08184c6/src/generators/functions.jl#L201-L206">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.add_blanks-Tuple{Any, Any}" href="#Flux.Losses.add_blanks-Tuple{Any, Any}"><code>Flux.Losses.add_blanks</code></a> — <span class="docstring-category">Method</span></header><section><div><p>add_blanks(z)</p><p>Adds blanks to the start and end of <code>z</code>, and between items in <code>z</code></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.logaddexp-Tuple{Any, Any}" href="#Flux.Losses.logaddexp-Tuple{Any, Any}"><code>Flux.Losses.logaddexp</code></a> — <span class="docstring-category">Method</span></header><section><div><p>logaddexp(a, b) Adds log-space <code>a</code> and <code>b</code> such that the result equals <code>log(exp(a)+exp(b))</code></p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.xlogx-Tuple{Any}" href="#Flux.Losses.xlogx-Tuple{Any}"><code>Flux.Losses.xlogx</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">xlogx(x)</code></pre><p>Return <code>x * log(x)</code> for <code>x ≥ 0</code>, handling <code>x == 0</code> by taking the limit from above, to get zero.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.xlogy-Tuple{Any, Any}" href="#Flux.Losses.xlogy-Tuple{Any, Any}"><code>Flux.Losses.xlogy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">xlogy(x, y)</code></pre><p>Return <code>x * log(y)</code> for <code>y &gt; 0</code>, and zero when <code>x == 0</code>.</p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../contributing/loss/">« Loss functions</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Tuesday 5 April 2022 12:55">Tuesday 5 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
