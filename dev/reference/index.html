<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>üßê Reference ¬∑ CounterfactualExplanations.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://juliatrustworthyai.github.io/CounterfactualExplanations.jl/reference/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CounterfactualExplanations.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CounterfactualExplanations.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">üè† Home</a></li><li><span class="tocitem">ü´£ Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Overview</a></li><li><a class="tocitem" href="../tutorials/simple_example/">Simple Example</a></li><li><a class="tocitem" href="../tutorials/whistle_stop/">Whiste-Stop Tour</a></li><li><a class="tocitem" href="../tutorials/data_preprocessing/">Handling Data</a></li><li><a class="tocitem" href="../tutorials/data_catalogue/">Data Catalogue</a></li><li><a class="tocitem" href="../tutorials/models/">Handling Models</a></li><li><a class="tocitem" href="../tutorials/model_catalogue/">Model Catalogue</a></li><li><a class="tocitem" href="../tutorials/generators/">Handling Generators</a></li><li><a class="tocitem" href="../tutorials/evaluation/">Evaluating Explanations</a></li><li><a class="tocitem" href="../tutorials/benchmarking/">Benchmarking Explanations</a></li><li><a class="tocitem" href="../tutorials/parallelization/">Parallelization</a></li></ul></li><li><span class="tocitem">ü§ì Explanation</span><ul><li><a class="tocitem" href="../explanation/">Overview</a></li><li><a class="tocitem" href="../explanation/architecture/">Package Architecture</a></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Generators</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../explanation/generators/overview/">Overview</a></li><li><a class="tocitem" href="../explanation/generators/generic/">Generic</a></li><li><a class="tocitem" href="../explanation/generators/clap_roar/">ClaPROAR</a></li><li><a class="tocitem" href="../explanation/generators/clue/">CLUE</a></li><li><a class="tocitem" href="../explanation/generators/dice/">DiCE</a></li><li><a class="tocitem" href="../explanation/generators/feature_tweak/">FeatureTweak</a></li><li><a class="tocitem" href="../explanation/generators/gravitational/">Gravitational</a></li><li><a class="tocitem" href="../explanation/generators/greedy/">Greedy</a></li><li><a class="tocitem" href="../explanation/generators/growing_spheres/">GrowingSpheres</a></li><li><a class="tocitem" href="../explanation/generators/probe/">PROBE</a></li><li><a class="tocitem" href="../explanation/generators/revise/">REVISE</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Optimisers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../explanation/optimisers/overview/">Overview</a></li><li><a class="tocitem" href="../explanation/optimisers/jsma/">JSMA</a></li></ul></li><li><a class="tocitem" href="../explanation/categorical/">Categorical Features</a></li></ul></li><li><span class="tocitem">ü´° How-To ...</span><ul><li><a class="tocitem" href="../how_to_guides/">Overview</a></li><li><a class="tocitem" href="../how_to_guides/custom_generators/">... add custom generators</a></li><li><a class="tocitem" href="../how_to_guides/custom_models/">... add custom models</a></li></ul></li><li class="is-active"><a class="tocitem" href>üßê Reference</a><ul class="internal"><li><a class="tocitem" href="#Content"><span>Content</span></a></li><li><a class="tocitem" href="#Exported-functions"><span>Exported functions</span></a></li><li><a class="tocitem" href="#Internal-functions"><span>Internal functions</span></a></li></ul></li><li><a class="tocitem" href="../contribute/">üõ† Contribute</a></li><li><a class="tocitem" href="../assets/resources/">üìö Additional Resources</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>üßê Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>üßê Reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/main/docs/src/reference.md#" title="Edit on GitHub"><span class="docs-icon fab">ÔÇõ</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><p>In this reference, you will find a detailed overview of the package API.</p><blockquote><p>Reference guides are technical descriptions of the machinery and how to operate it. Reference material is information-oriented.</p><p>‚Äî <a href="https://diataxis.fr/reference/">Di√°taxis</a></p></blockquote><p>In other words, you come here because you want to take a very close look at the code üßê.</p><h2 id="Content"><a class="docs-heading-anchor" href="#Content">Content</a><a id="Content-1"></a><a class="docs-heading-anchor-permalink" href="#Content" title="Permalink"></a></h2><ul><li><a href="#Reference">Reference</a></li><li class="no-marker"><ul><li><a href="#Content">Content</a></li><li><a href="#Exported-functions">Exported functions</a></li><li><a href="#Internal-functions">Internal functions</a></li></ul></li></ul><h2 id="Exported-functions"><a class="docs-heading-anchor" href="#Exported-functions">Exported functions</a><a id="Exported-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.RawOutputArrayType" href="#CounterfactualExplanations.RawOutputArrayType"><code>CounterfactualExplanations.RawOutputArrayType</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RawOutputArrayType</code></pre><p>A type union for the allowed type for the output array <code>y</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.RawTargetType" href="#CounterfactualExplanations.RawTargetType"><code>CounterfactualExplanations.RawTargetType</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RawTargetType</code></pre><p>A type union for the allowed types for the <code>target</code> variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.flux_training_params" href="#CounterfactualExplanations.flux_training_params"><code>CounterfactualExplanations.flux_training_params</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">flux_training_params</code></pre><p>The default training parameter for <code>FluxModels</code> etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L148-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.AbstractCounterfactualExplanation" href="#CounterfactualExplanations.AbstractCounterfactualExplanation"><code>CounterfactualExplanations.AbstractCounterfactualExplanation</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for counterfactual explanations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/base_types.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.AbstractFittedModel" href="#CounterfactualExplanations.AbstractFittedModel"><code>CounterfactualExplanations.AbstractFittedModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for fitted models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/base_types.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.AbstractGenerator" href="#CounterfactualExplanations.AbstractGenerator"><code>CounterfactualExplanations.AbstractGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>An abstract type that serves as the base type for counterfactual generators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/base_types.jl#L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.AbstractParallelizer" href="#CounterfactualExplanations.AbstractParallelizer"><code>CounterfactualExplanations.AbstractParallelizer</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>An abstract type for parallelizers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/base_types.jl#L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.CounterfactualExplanation" href="#CounterfactualExplanations.CounterfactualExplanation"><code>CounterfactualExplanations.CounterfactualExplanation</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>A struct that collects all information relevant to a specific counterfactual explanation for a single individual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/core_struct.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.CounterfactualExplanation-Tuple{AbstractArray, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}" href="#CounterfactualExplanations.CounterfactualExplanation-Tuple{AbstractArray, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}"><code>CounterfactualExplanations.CounterfactualExplanation</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function CounterfactualExplanation(;
	x::AbstractArray,
	target::RawTargetType,
	data::CounterfactualData,
	M::Models.AbstractFittedModel,
	generator::Generators.AbstractGenerator,
	max_iter::Int = 100,
	num_counterfactuals::Int = 1,
	initialization::Symbol = :add_perturbation,
	generative_model_params::NamedTuple = (;),
	min_success_rate::AbstractFloat=0.99,
    converge_when::Symbol=:decision_threshold,
    invalidation_rate::AbstractFloat=0.5,
    learning_rate::AbstractFloat=1.0,
    variance::AbstractFloat=0.01,
)</code></pre><p>Outer method to construct a <code>CounterfactualExplanation</code> structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/core_struct.jl#L21-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.EncodedOutputArrayType" href="#CounterfactualExplanations.EncodedOutputArrayType"><code>CounterfactualExplanations.EncodedOutputArrayType</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EncodedOutputArrayType</code></pre><p>Type of encoded output array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.EncodedTargetType" href="#CounterfactualExplanations.EncodedTargetType"><code>CounterfactualExplanations.EncodedTargetType</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EncodedTargetType</code></pre><p>Type of encoded target variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.OutputEncoder" href="#CounterfactualExplanations.OutputEncoder"><code>CounterfactualExplanations.OutputEncoder</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OutputEncoder</code></pre><p>The <code>OutputEncoder</code> takes a raw output array (<code>y</code>) and encodes it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L60-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.OutputEncoder-Tuple{Union{Int64, AbstractFloat, String, Symbol}}" href="#CounterfactualExplanations.OutputEncoder-Tuple{Union{Int64, AbstractFloat, String, Symbol}}"><code>CounterfactualExplanations.OutputEncoder</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(encoder::OutputEncoder)(ynew::RawTargetType)</code></pre><p>When called on a new value <code>ynew</code>, the <code>OutputEncoder</code> encodes it based on the initial encoding.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L102-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.OutputEncoder-Tuple{}" href="#CounterfactualExplanations.OutputEncoder-Tuple{}"><code>CounterfactualExplanations.OutputEncoder</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(encoder::OutputEncoder)()</code></pre><p>On call, the <code>OutputEncoder</code> returns the encoded output array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.MPIParallelizer" href="#CounterfactualExplanations.MPIParallelizer"><code>CounterfactualExplanations.MPIParallelizer</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">MPIParallelizer</code></pre><p>Exposes the <code>MPIParallelizer</code> function from the <code>MPIExt</code> extension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/extensions/MPIExt.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.PyTorchModel" href="#CounterfactualExplanations.PyTorchModel"><code>CounterfactualExplanations.PyTorchModel</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">PythonCallExt</code></pre><p>Exposes the <code>PyTorchModel</code> from the <code>PythonCallExt</code> extension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/extensions/PythonCallExt.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.RTorchModel" href="#CounterfactualExplanations.RTorchModel"><code>CounterfactualExplanations.RTorchModel</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">RTorchModel</code></pre><p>Exposes the <code>RTorchModel</code> function from the <code>RCallExt</code> extension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/extensions/RCallExt.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.converged-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.converged-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.converged</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">converged(ce::CounterfactualExplanation)</code></pre><p>A convenience method to determine if the counterfactual search has converged. The search is considered to have converged only if the counterfactual is valid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/convergence.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.generate_counterfactual-Tuple{AbstractArray, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}" href="#CounterfactualExplanations.generate_counterfactual-Tuple{AbstractArray, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}"><code>CounterfactualExplanations.generate_counterfactual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_counterfactual(
	x::Union{AbstractArray,Int}, target::RawTargetType, data::CounterfactualData, M::Models.AbstractFittedModel, generator::AbstractGenerator;
	Œ≥::AbstractFloat=0.75, max_iter=1000
)</code></pre><p>The core function that is used to run counterfactual search for a given factual <code>x</code>, target, counterfactual data, model and generator.  Keywords can be used to specify the desired threshold for the predicted target class probability and the maximum number of iterations.</p><p><strong>Examples</strong></p><p><strong>Generic generator</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations

# Data:
using CounterfactualExplanations.Data
using Random
Random.seed!(1234)
xs, ys = Data.toy_data_linear()
X = hcat(xs...)
counterfactual_data = CounterfactualData(X,ys&#39;)

# Model
using CounterfactualExplanations.Models: LogisticModel, probs 
# Logit model:
w = [1.0 1.0] # true coefficients
b = 0
M = LogisticModel(w, [b])

# Randomly selected factual:
x = select_factual(counterfactual_data,rand(1:size(X)[2]))
y = round(probs(M, x)[1])
target = round(probs(M, x)[1])==0 ? 1 : 0 

# Counterfactual search:
generator = GenericGenerator()
ce = generate_counterfactual(x, target, counterfactual_data, M, generator)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generate_counterfactual/core.jl#L2-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.generate_counterfactual-Tuple{Base.Iterators.Zip, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}" href="#CounterfactualExplanations.generate_counterfactual-Tuple{Base.Iterators.Zip, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}"><code>CounterfactualExplanations.generate_counterfactual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_counterfactual(
    x::Base.Iterators.Zip,
    target::RawTargetType,
    data::CounterfactualData,
    M::Models.AbstractFittedModel,
    generator::AbstractGenerator;
    kwargs...,
)</code></pre><p>Overloads the <code>generate_counterfactual</code> method to accept a zip of factuals <code>x</code> and return a vector of counterfactuals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generate_counterfactual/vectorised.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.generate_counterfactual-Tuple{Tuple{AbstractArray}, Vararg{Any}}" href="#CounterfactualExplanations.generate_counterfactual-Tuple{Tuple{AbstractArray}, Vararg{Any}}"><code>CounterfactualExplanations.generate_counterfactual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Overloads the <code>generate_counterfactual</code> method to accept a tuple containing and array. This allows for broadcasting over <code>Zip</code> iterators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generate_counterfactual/core.jl#L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.generate_counterfactual-Tuple{Vector{&lt;:Matrix}, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}" href="#CounterfactualExplanations.generate_counterfactual-Tuple{Vector{&lt;:Matrix}, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData, AbstractFittedModel, AbstractGenerator}"><code>CounterfactualExplanations.generate_counterfactual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_counterfactual(
    x::Vector{&lt;:Matrix},
    target::RawTargetType,
    data::CounterfactualData,
    M::Models.AbstractFittedModel,
    generator::AbstractGenerator;
    kwargs...,
)</code></pre><p>Overloads the <code>generate_counterfactual</code> method to accept a vector of factuals <code>x</code> and return a vector of counterfactuals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generate_counterfactual/vectorised.jl#L26-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.get_target_index-Tuple{Any, Any}" href="#CounterfactualExplanations.get_target_index-Tuple{Any, Any}"><code>CounterfactualExplanations.get_target_index</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_target_index(y_levels, target)</code></pre><p>Utility that returns the index of <code>target</code> in <code>y_levels</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.parallelize-Tuple{Nothing, Function, Vararg{Any}}" href="#CounterfactualExplanations.parallelize-Tuple{Nothing, Function, Vararg{Any}}"><code>CounterfactualExplanations.parallelize</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parallelize(
    parallelizer::nothing,
    f::Function,
    args...;
    kwargs...,
)</code></pre><p>If no <code>AbstractParallelizer</code> has been supplied, just call or broadcast the function. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/traits/parallelize.jl#L9-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.path-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.path-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.path</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">path(ce::CounterfactualExplanation)</code></pre><p>A convenience method that returns the entire counterfactual path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/path_tracking.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.preprocess_python_data" href="#CounterfactualExplanations.preprocess_python_data"><code>CounterfactualExplanations.preprocess_python_data</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">preprocess_python_data</code></pre><p>Exposes the <code>preprocess_python_data</code> function from the <code>PythonCallExt</code> extension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/extensions/PythonCallExt.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.pytorch_model_loader" href="#CounterfactualExplanations.pytorch_model_loader"><code>CounterfactualExplanations.pytorch_model_loader</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">pytorch_model_loader</code></pre><p>Exposes the <code>pytorch_model_loader</code> function from the <code>PythonCallExt</code> extension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/extensions/PythonCallExt.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.rtorch_model_loader" href="#CounterfactualExplanations.rtorch_model_loader"><code>CounterfactualExplanations.rtorch_model_loader</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">rtorch_model_loader</code></pre><p>Exposes the <code>rtorch_model_loader</code> function from the <code>RCallExt</code> extension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/extensions/RCallExt.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.target_probs" href="#CounterfactualExplanations.target_probs"><code>CounterfactualExplanations.target_probs</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">target_probs(
    ce::CounterfactualExplanation,
    x::Union{AbstractArray,Nothing}=nothing,
)</code></pre><p>Returns the predicted probability of the target class for <code>x</code>. If <code>x</code> is <code>nothing</code>, the predicted probability corresponding to the counterfactual value is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L67-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.terminated-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.terminated-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.terminated</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">terminated(ce::CounterfactualExplanation)</code></pre><p>A convenience method to determine if the counterfactual search has terminated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/convergence.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.total_steps-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.total_steps-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.total_steps</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_steps(ce::CounterfactualExplanation)</code></pre><p>A convenience method that returns the total number of steps of the counterfactual search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/convergence.jl#L72-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.update!-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.update!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.update!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update!(ce::CounterfactualExplanation)</code></pre><p>An important subroutine that updates the counterfactual explanation. It takes a snapshot of the current counterfactual search state and passes it to the generator. Based on the current state the generator generates perturbations. Various constraints are then applied to the proposed vector of feature perturbations. Finally, the counterfactual search state is updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/search.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.default_measures" href="#CounterfactualExplanations.Evaluation.default_measures"><code>CounterfactualExplanations.Evaluation.default_measures</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><p>The default evaluation measures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/Evaluation.jl#L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.Benchmark" href="#CounterfactualExplanations.Evaluation.Benchmark"><code>CounterfactualExplanations.Evaluation.Benchmark</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>A container for benchmarks of counterfactual explanations. Instead of subtyping <code>DataFrame</code>, it contains a <code>DataFrame</code> of evaluation measures (see <a href="https://discourse.julialang.org/t/creating-an-abstractdataframe-subtype/36451/6?u=pat-alt">this discussion</a> for why we don&#39;t subtype <code>DataFrame</code> directly).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/benchmark.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.Benchmark-Tuple{}" href="#CounterfactualExplanations.Evaluation.Benchmark-Tuple{}"><code>CounterfactualExplanations.Evaluation.Benchmark</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">(bmk::Benchmark)(; agg=mean)</code></pre><p>Returns a <code>DataFrame</code> containing evaluation measures aggregated by <code>num_counterfactual</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/benchmark.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.benchmark-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Evaluation.benchmark-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Evaluation.benchmark</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">benchmark(
    data::CounterfactualData;
    models::Dict{&lt;:Any,&lt;:Any}=standard_models_catalogue,
    generators::Union{Nothing,Dict{&lt;:Any,&lt;:AbstractGenerator}}=nothing,
    measure::Union{Function,Vector{Function}}=default_measures,
    n_individuals::Int=5,
    suppress_training::Bool=false,
    factual::Union{Nothing,RawTargetType}=nothing,
    target::Union{Nothing,RawTargetType}=nothing,
    store_ce::Bool=false,
    parallelizer::Union{Nothing,AbstractParallelizer}=nothing,
    kwrgs...,
)</code></pre><p>Runs the benchmarking exercise as follows:</p><ol><li>Randomly choose a <code>factual</code> and <code>target</code> label unless specified. </li><li>If no pretrained <code>models</code> are provided, it is assumed that a dictionary of callable model objects is provided (by default using the <code>standard_models_catalogue</code>). </li><li>Each of these models is then trained on the data. </li><li>For each model separately choose <code>n_individuals</code> randomly from the non-target (<code>factual</code>) class. For each generator create a benchmark as in <a href="@ref"><code>benchmark(x::Union{AbstractArray,Base.Iterators.Zip},...)</code></a>.</li><li>Finally, concatenate the results.</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/benchmark.jl#L162-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.benchmark-Tuple{Union{AbstractArray, Base.Iterators.Zip}, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData}" href="#CounterfactualExplanations.Evaluation.benchmark-Tuple{Union{AbstractArray, Base.Iterators.Zip}, Union{Int64, AbstractFloat, String, Symbol}, CounterfactualData}"><code>CounterfactualExplanations.Evaluation.benchmark</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">benchmark(
    x::Union{AbstractArray,Base.Iterators.Zip},
    target::RawTargetType,
    data::CounterfactualData;
    models::Dict{&lt;:Any,&lt;:AbstractFittedModel},
    generators::Dict{&lt;:Any,&lt;:AbstractGenerator},
    measure::Union{Function,Vector{Function}}=default_measures,
    xids::Union{Nothing,AbstractArray}=nothing,
    dataname::Union{Nothing,Symbol,String}=nothing,
    verbose::Bool=true,
    store_ce::Bool=false,
    parallelizer::Union{Nothing,AbstractParallelizer}=nothing,
    kwrgs...,
)</code></pre><p>First generates counterfactual explanations for factual <code>x</code>, the <code>target</code> and <code>data</code> using each of the provided <code>models</code> and <code>generators</code>. Then generates a <code>Benchmark</code> for the vector of counterfactual explanations as in <a href="#CounterfactualExplanations.Evaluation.benchmark-Tuple{Vector{CounterfactualExplanation}}"><code>benchmark(counterfactual_explanations::Vector{CounterfactualExplanation})</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/benchmark.jl#L79-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.benchmark-Tuple{Vector{CounterfactualExplanation}}" href="#CounterfactualExplanations.Evaluation.benchmark-Tuple{Vector{CounterfactualExplanation}}"><code>CounterfactualExplanations.Evaluation.benchmark</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">benchmark(
    counterfactual_explanations::Vector{CounterfactualExplanation};
    meta_data::Union{Nothing,&lt;:Vector{&lt;:Dict}}=nothing,
    measure::Union{Function,Vector{Function}}=default_measures,
    store_ce::Bool=false,
)</code></pre><p>Generates a <code>Benchmark</code> for a vector of counterfactual explanations. Optionally <code>meta_data</code> describing each individual counterfactual explanation can be supplied. This should be a vector of dictionaries of the same length as the vector of counterfactuals. If no <code>meta_data</code> is supplied, it will be automatically inferred. All <code>measure</code> functions are applied to each counterfactual explanation. If <code>store_ce=true</code>, the counterfactual explanations are stored in the benchmark.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/benchmark.jl#L47-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.evaluate" href="#CounterfactualExplanations.Evaluation.evaluate"><code>CounterfactualExplanations.Evaluation.evaluate</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">evaluate(
    ce::CounterfactualExplanation;
    measure::Union{Function,Vector{Function}}=default_measures,
    agg::Function=mean,
    report_each::Bool=false,
    output_format::Symbol=:Vector,
    pivot_longer::Bool=true
)</code></pre><p>Just computes evaluation <code>measures</code> for the counterfactual explanation. By default, no meta data is reported. For <code>report_meta=true</code>, meta data is automatically inferred, unless this overwritten by <code>meta_data</code>. The optional <code>meta_data</code> argument should be a vector of dictionaries of the same length as the vector of counterfactual explanations. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/evaluate.jl#L81-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.redundancy-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Evaluation.redundancy-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Evaluation.redundancy</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">redundancy(ce::CounterfactualExplanation)</code></pre><p>Computes the feature redundancy: that is, the number of features that remain unchanged from their original, factual values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/measures.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.validity-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Evaluation.validity-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Evaluation.validity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">validity(ce::CounterfactualExplanation; Œ≥=0.5)</code></pre><p>Checks of the counterfactual search has been successful with respect to the probability threshold <code>Œ≥</code>. In case multiple counterfactuals were generated, the function returns the proportion of successful counterfactuals.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/measures.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.data_catalogue" href="#CounterfactualExplanations.Data.data_catalogue"><code>CounterfactualExplanations.Data.data_catalogue</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><p>A dictionary that provides an overview of the various benchmark datasets and the methods to load them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/Data.jl#L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_blobs" href="#CounterfactualExplanations.Data.load_blobs"><code>CounterfactualExplanations.Data.load_blobs</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_blobs(n=250; seed=data_seed, kwrgs...)</code></pre><p>Loads overlapping synthetic data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/synthetic/blobs.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_california_housing" href="#CounterfactualExplanations.Data.load_california_housing"><code>CounterfactualExplanations.Data.load_california_housing</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_california_housing(n::Union{Nothing,Int}=5000)</code></pre><p>Loads and pre-processes California Housing data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/tabular/california_housing.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_cifar_10" href="#CounterfactualExplanations.Data.load_cifar_10"><code>CounterfactualExplanations.Data.load_cifar_10</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_cifar_10(n::Union{Nothing, Int}=nothing)</code></pre><p>Loads and preprocesses data from the CIFAR-10 dataset for use in counterfactual explanations.</p><p><strong>Arguments</strong></p><ul><li><code>n::Union{Nothing, Int}=nothing</code>: The number of samples to subsample from the dataset. If <code>n</code> is not specified, all samples will be used.</li></ul><p><strong>Returns</strong></p><ul><li><code>counterfactual_data::CounterfactualData</code>: A <code>CounterfactualData</code> object containing the preprocessed data.</li></ul><p><strong>Example</strong></p><p>data = load<em>cifar</em>10(1000) # loads and preprocesses 1000 samples from the CIFAR-10 dataset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/vision/cifar_10.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_cifar_10_test-Tuple{}" href="#CounterfactualExplanations.Data.load_cifar_10_test-Tuple{}"><code>CounterfactualExplanations.Data.load_cifar_10_test</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_cifar_10_test()</code></pre><p>Loads and preprocesses test data from the CIFAR-10 dataset for use in counterfactual explanations.</p><p><strong>Returns</strong></p><ul><li><code>counterfactual_data::CounterfactualData</code>: A <code>CounterfactualData</code> object containing the preprocessed test data.</li></ul><p><strong>Example</strong></p><p>test<em>data = load</em>cifar<em>10</em>test() # loads and preprocesses test data from the CIFAR-10 dataset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/vision/cifar_10.jl#L32-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_circles" href="#CounterfactualExplanations.Data.load_circles"><code>CounterfactualExplanations.Data.load_circles</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_circles(n=250; seed=data_seed, noise=0.15, factor=0.01)</code></pre><p>Loads synthetic circles data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/synthetic/circles.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_credit_default" href="#CounterfactualExplanations.Data.load_credit_default"><code>CounterfactualExplanations.Data.load_credit_default</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_credit_default(n::Union{Nothing,Int}=5000)</code></pre><p>Loads and pre-processes UCI Credit Default data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/tabular/credit_default.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_fashion_mnist" href="#CounterfactualExplanations.Data.load_fashion_mnist"><code>CounterfactualExplanations.Data.load_fashion_mnist</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_fashion_mnist(n::Union{Nothing,Int}=nothing)</code></pre><p>Loads and prepares FashionMNIST data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/vision/fashion_mnist.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_fashion_mnist_test-Tuple{}" href="#CounterfactualExplanations.Data.load_fashion_mnist_test-Tuple{}"><code>CounterfactualExplanations.Data.load_fashion_mnist_test</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_fashion_mnist_test()</code></pre><p>Loads and prepares FashionMNIST test data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/vision/fashion_mnist.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_german_credit" href="#CounterfactualExplanations.Data.load_german_credit"><code>CounterfactualExplanations.Data.load_german_credit</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_german_credit(n::Union{Nothing, Int}=nothing)</code></pre><p>Loads and pre-processes UCI German Credit data.</p><p><strong>Arguments</strong></p><ul><li><code>n::Union{Nothing, Int}=nothing</code>: The number of samples to subsample from the dataset. If <code>n</code> is not specified, all samples will be used. Must be &lt;= 1000 and &gt;= 1.</li></ul><p><strong>Returns</strong></p><ul><li><code>counterfactual_data::CounterfactualData</code>: A <code>CounterfactualData</code> object containing the preprocessed data.</li></ul><p><strong>Example</strong></p><p>data = load<em>german</em>credit(500) # loads and preprocesses 500 samples from the German Credit dataset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/tabular/german_credit.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_gmsc" href="#CounterfactualExplanations.Data.load_gmsc"><code>CounterfactualExplanations.Data.load_gmsc</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_gmsc(n::Union{Nothing,Int}=5000)</code></pre><p>Loads and pre-processes Give Me Some Credit (GMSC) data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/tabular/gmsc.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_linearly_separable" href="#CounterfactualExplanations.Data.load_linearly_separable"><code>CounterfactualExplanations.Data.load_linearly_separable</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_linearly_separable(n=250; seed=data_seed)</code></pre><p>Loads linearly separable synthetic data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/synthetic/linearly_separable.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_mnist" href="#CounterfactualExplanations.Data.load_mnist"><code>CounterfactualExplanations.Data.load_mnist</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_mnist()</code></pre><p>Loads and prepares MNIST data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/vision/mnist.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_mnist_test-Tuple{}" href="#CounterfactualExplanations.Data.load_mnist_test-Tuple{}"><code>CounterfactualExplanations.Data.load_mnist_test</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_mnist_test()</code></pre><p>Loads and prepares MNIST test data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/vision/mnist.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_moons" href="#CounterfactualExplanations.Data.load_moons"><code>CounterfactualExplanations.Data.load_moons</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_moons(n=250; seed=data_seed, kwrgs...)</code></pre><p>Loads synthetic moons data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/synthetic/moons.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_multi_class" href="#CounterfactualExplanations.Data.load_multi_class"><code>CounterfactualExplanations.Data.load_multi_class</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_multi_class(n=250; seed=data_seed)</code></pre><p>Loads multi-class synthetic data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/synthetic/multi_class.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_overlapping" href="#CounterfactualExplanations.Data.load_overlapping"><code>CounterfactualExplanations.Data.load_overlapping</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_overlapping(n=250; seed=data_seed)</code></pre><p>Loads overlapping synthetic data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/synthetic/overlapping.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_synthetic_data" href="#CounterfactualExplanations.Data.load_synthetic_data"><code>CounterfactualExplanations.Data.load_synthetic_data</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_synthetic_data(n=250; seed=data_seed)</code></pre><p>Loads all synthetic datasets and wraps them in a dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/Data.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_tabular_data" href="#CounterfactualExplanations.Data.load_tabular_data"><code>CounterfactualExplanations.Data.load_tabular_data</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_tabular_data(n=nothing; drop=nothing)</code></pre><p>Loads all tabular datasets and wraps them in a dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/Data.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Data.load_uci_adult" href="#CounterfactualExplanations.Data.load_uci_adult"><code>CounterfactualExplanations.Data.load_uci_adult</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_uci_adult(n::Union{Nothing, Int}=1000)</code></pre><p>Load and preprocesses data from the UCI &#39;Adult&#39; dataset</p><p><strong>Arguments</strong></p><ul><li><code>n::Union{Nothing, Int}=nothing</code>: The number of samples to subsample from the dataset.</li></ul><p><strong>Returns</strong></p><ul><li><code>counterfactual_data::CounterfactualData</code>: A <code>CounterfactualData</code> object containing the preprocessed data.</li></ul><p><strong>Example</strong></p><p>data = load<em>uci</em>adult(20) # loads and preprocesses 20 samples from the Adult dataset</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data/tabular/adult.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{AbstractMatrix, Union{AbstractVector, AbstractMatrix}}" href="#CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{AbstractMatrix, Union{AbstractVector, AbstractMatrix}}"><code>CounterfactualExplanations.DataPreprocessing.CounterfactualData</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CounterfactualData(
    X::AbstractMatrix, y::AbstractMatrix;
    mutability::Union{Vector{Symbol},Nothing}=nothing,
    domain::Union{Any,Nothing}=nothing,
    features_categorical::Union{Vector{Int},Nothing}=nothing,
    features_continuous::Union{Vector{Int},Nothing}=nothing,
    standardize::Bool=false
)</code></pre><p>This outer constructor method prepares features <code>X</code> and labels <code>y</code> to be used with the package. Mutability and domain constraints can be added for the features. The function also accepts arguments that specify which features are categorical and which are continues. These arguments are currently not used. </p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">using CounterfactualExplanations.Data
x, y = toy_data_linear()
X = hcat(x...)
counterfactual_data = CounterfactualData(X,y&#39;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/counterfactual_data.jl#L87-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{Tables.MatrixTable, Union{AbstractVector, AbstractMatrix}}" href="#CounterfactualExplanations.DataPreprocessing.CounterfactualData-Tuple{Tables.MatrixTable, Union{AbstractVector, AbstractMatrix}}"><code>CounterfactualExplanations.DataPreprocessing.CounterfactualData</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function CounterfactualData(
    X::Tables.MatrixTable,
    y::RawOutputArrayType;
    kwrgs...
)</code></pre><p>Outer constructor method that accepts a <code>Tables.MatrixTable</code>. By default, the indices of categorical and continuous features are automatically inferred the features&#39; <code>scitype</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/counterfactual_data.jl#L168-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.apply_domain_constraints-Tuple{CounterfactualData, AbstractArray}" href="#CounterfactualExplanations.DataPreprocessing.apply_domain_constraints-Tuple{CounterfactualData, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.apply_domain_constraints</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_domain_constraints(counterfactual_data::CounterfactualData, x::AbstractArray)</code></pre><p>A subroutine that is used to apply the predetermined domain constraints.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/data_contraints.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Int64}" href="#CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Int64}"><code>CounterfactualExplanations.DataPreprocessing.select_factual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">select_factual(counterfactual_data::CounterfactualData, index::Int)</code></pre><p>A convenience method that can be used to access the feature matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L157-L161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Union{UnitRange{Int64}, Vector{Int64}}}" href="#CounterfactualExplanations.DataPreprocessing.select_factual-Tuple{CounterfactualData, Union{UnitRange{Int64}, Vector{Int64}}}"><code>CounterfactualExplanations.DataPreprocessing.select_factual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">select_factual(counterfactual_data::CounterfactualData, index::Union{Vector{Int},UnitRange{Int}})</code></pre><p>A convenience method that can be used to access the feature matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L166-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.transformable_features-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.transformable_features-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.transformable_features</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">transformable_features(counterfactual_data::CounterfactualData)</code></pre><p>Returns the indices of all continuous features that can be transformed. For constant features <code>ZScoreTransform</code> returns <code>NaN</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/counterfactual_data.jl#L222-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.all_models_catalogue" href="#CounterfactualExplanations.Models.all_models_catalogue"><code>CounterfactualExplanations.Models.all_models_catalogue</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">all_models_catalogue</code></pre><p>A dictionary containing both trainable and non-trainable machine learning models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/Models.jl#L61-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.mlj_models_catalogue" href="#CounterfactualExplanations.Models.mlj_models_catalogue"><code>CounterfactualExplanations.Models.mlj_models_catalogue</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">mlj_models_catalogue</code></pre><p>A dictionary containing all machine learning models from the MLJ model registry that the package supports.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/Models.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.standard_models_catalogue" href="#CounterfactualExplanations.Models.standard_models_catalogue"><code>CounterfactualExplanations.Models.standard_models_catalogue</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">standard_models_catalogue</code></pre><p>A dictionary containing all trainable machine learning models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/Models.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractDifferentiableModel" href="#CounterfactualExplanations.Models.AbstractDifferentiableModel"><code>CounterfactualExplanations.Models.AbstractDifferentiableModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for differentiable models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/differentiable.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.EvoTreeModel" href="#CounterfactualExplanations.Models.EvoTreeModel"><code>CounterfactualExplanations.Models.EvoTreeModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EvoTreeModel &lt;: AbstractMLJModel</code></pre><p>Constructor for gradient-boosted decision trees from the EvoTrees.jl library.</p><p><strong>Arguments</strong></p><ul><li><code>model::Any</code>: The model selected by the user. Must be a model from the MLJ library.</li><li><code>likelihood::Symbol</code>: The likelihood of the model. Must be one of <code>[:classification_binary, :classification_multi]</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>EvoTreeModel</code>: An <code>EvoTreeClassifier</code> from <code>EvoTrees.jl</code> wrapped inside the EvoTreeModel class.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L6-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.EvoTreeModel-Tuple{Any}" href="#CounterfactualExplanations.Models.EvoTreeModel-Tuple{Any}"><code>CounterfactualExplanations.Models.EvoTreeModel</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Outer constructor method for EvoTreeModel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L35-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.EvoTreeModel-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Models.EvoTreeModel-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Models.EvoTreeModel</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EvoTreeModel(data::CounterfactualData; kwargs...)</code></pre><p>Constructs a new EvoTreeModel object from the data in a <code>CounterfactualData</code> object. Not called by the user directly.</p><p><strong>Arguments</strong></p><ul><li><code>data::CounterfactualData</code>: The <code>CounterfactualData</code> object containing the data to be used for training the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>model::EvoTreeModel</code>: The EvoTree model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L101-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.FluxEnsemble" href="#CounterfactualExplanations.Models.FluxEnsemble"><code>CounterfactualExplanations.Models.FluxEnsemble</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FluxEnsemble &lt;: AbstractFluxModel</code></pre><p>Constructor for deep ensembles trained in <code>Flux.jl</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/ensemble.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.FluxModel" href="#CounterfactualExplanations.Models.FluxModel"><code>CounterfactualExplanations.Models.FluxModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FluxModel &lt;: AbstractFluxModel</code></pre><p>Constructor for models trained in <code>Flux.jl</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/MLP.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.FluxModel-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Models.FluxModel-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Models.FluxModel</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FluxModel(data::CounterfactualData; kwargs...)</code></pre><p>Constructs a multi-layer perceptron (MLP).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/MLP.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.LaplaceReduxModel" href="#CounterfactualExplanations.Models.LaplaceReduxModel"><code>CounterfactualExplanations.Models.LaplaceReduxModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LaplaceReduxModel &lt;: AbstractCustomDifferentiableModel</code></pre><p>Constructor for <code>LaplaceRedux.jl</code> model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/other/laplace_redux.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.DecisionTreeModel-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Models.DecisionTreeModel-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Models.DecisionTreeModel</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DecisionTreeModel(data::CounterfactualData; kwargs...)</code></pre><p>Constructs a new TreeModel object wrapped around a decision tree from the data in a <code>CounterfactualData</code> object. Not called by the user directly.</p><p><strong>Arguments</strong></p><ul><li><code>data::CounterfactualData</code>: The <code>CounterfactualData</code> object containing the data to be used for training the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>model::TreeModel</code>: A TreeModel object.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L161-L172">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.Linear-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Models.Linear-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Models.Linear</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Linear(data::CounterfactualData; kwargs...)</code></pre><p>Constructs a model with one linear layer. If the output is binary, this corresponds to logistic regression, since model outputs are passed through the sigmoid function. If the output is multi-class, this corresponds to multinomial logistic regression, since model outputs are passed through the softmax function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/MLP.jl#L181-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.RandomForestModel-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Models.RandomForestModel-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Models.RandomForestModel</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RandomForestModel(data::CounterfactualData; kwargs...)</code></pre><p>Constructs a new TreeModel object wrapped around a random forest from the data in a <code>CounterfactualData</code> object. Not called by the user directly.</p><p><strong>Arguments</strong></p><ul><li><code>data::CounterfactualData</code>: The <code>CounterfactualData</code> object containing the data to be used for training the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>model::TreeModel</code>: A TreeModel object.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L182-L193">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.fit_model" href="#CounterfactualExplanations.Models.fit_model"><code>CounterfactualExplanations.Models.fit_model</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fit_model(
    counterfactual_data::CounterfactualData, model::Symbol=:MLP;
    kwrgs...
)</code></pre><p>Fits one of the available default models to the <code>counterfactual_data</code>. The <code>model</code> argument can be used to specify the desired model. The available values correspond to the keys of the <a href="#CounterfactualExplanations.Models.all_models_catalogue"><code>all_models_catalogue</code></a> dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/Models.jl#L87-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.logits-Tuple{AbstractFittedModel, AbstractArray}" href="#CounterfactualExplanations.Models.logits-Tuple{AbstractFittedModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logits(M::AbstractFittedModel, X::AbstractArray)</code></pre><p>Generic method that is compulsory for all models. It returns the raw model predictions. In classification this is sometimes referred to as <em>logits</em>: the non-normalized predictions that are fed into a link function to produce predicted probabilities. In regression (not currently implemented) raw outputs typically correspond to final outputs. In other words, there is typically no normalization involved.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/Models.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.logits-Tuple{CounterfactualExplanations.Models.EvoTreeModel, AbstractArray}" href="#CounterfactualExplanations.Models.logits-Tuple{CounterfactualExplanations.Models.EvoTreeModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logits(M::EvoTreeModel, X::AbstractArray)</code></pre><p>Calculates the logit scores output by the model M for the input data X.</p><p><strong>Arguments</strong></p><ul><li><code>M::EvoTreeModel</code>: The model selected by the user. Must be a model from the MLJ library.</li><li><code>X::AbstractArray</code>: The feature vector for which the logit scores are calculated.</li></ul><p><strong>Returns</strong></p><ul><li><code>logits::Matrix</code>: A matrix of logits for each output class for each data point in X.</li></ul><p><strong>Example</strong></p><p>logits = Models.logits(M, x) # calculates the logit scores for each output class for the data point x</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L43-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.logits-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractArray}" href="#CounterfactualExplanations.Models.logits-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractArray}"><code>CounterfactualExplanations.Models.logits</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logits(M::TreeModel, X::AbstractArray)</code></pre><p>Calculates the logit scores output by the model M for the input data X.</p><p><strong>Arguments</strong></p><ul><li><code>M::TreeModel</code>: The model selected by the user.</li><li><code>X::AbstractArray</code>: The feature vector for which the logit scores are calculated.</li></ul><p><strong>Returns</strong></p><ul><li><code>logits::Matrix</code>: A matrix of logits for each output class for each data point in X.</li></ul><p><strong>Example</strong></p><p>logits = Models.logits(M, x) # calculates the logit scores for each output class for the data point x</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L97-L111">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.model_evaluation-Tuple{AbstractFittedModel, CounterfactualData}" href="#CounterfactualExplanations.Models.model_evaluation-Tuple{AbstractFittedModel, CounterfactualData}"><code>CounterfactualExplanations.Models.model_evaluation</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">model_evaluation(M::AbstractFittedModel, test_data::CounterfactualData)</code></pre><p>Helper function to compute F-Score for <code>AbstractFittedModel</code> on a (test) data set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/utils.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.predict_label-Tuple{AbstractFittedModel, CounterfactualData, AbstractArray}" href="#CounterfactualExplanations.Models.predict_label-Tuple{AbstractFittedModel, CounterfactualData, AbstractArray}"><code>CounterfactualExplanations.Models.predict_label</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">predict_label(M::AbstractFittedModel, counterfactual_data::CounterfactualData, X::AbstractArray)</code></pre><p>Returns the predicted output label for a given model <code>M</code>, data set <code>counterfactual_data</code> and input data <code>X</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/utils.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.predict_label-Tuple{AbstractFittedModel, CounterfactualData}" href="#CounterfactualExplanations.Models.predict_label-Tuple{AbstractFittedModel, CounterfactualData}"><code>CounterfactualExplanations.Models.predict_label</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">predict_label(M::AbstractFittedModel, counterfactual_data::CounterfactualData)</code></pre><p>Returns the predicted output labels for all data points of data set <code>counterfactual_data</code> for a given model <code>M</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/utils.jl#L69-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.predict_label-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractArray}" href="#CounterfactualExplanations.Models.predict_label-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractArray}"><code>CounterfactualExplanations.Models.predict_label</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">predict_label(M::TreeModel, X::AbstractArray)</code></pre><p>Returns the predicted label for <code>X</code>.</p><p><strong>Arguments</strong></p><ul><li><code>M::TreeModel</code>: The model selected by the user.</li><li><code>X::AbstractArray</code>: The input array for which the label is predicted.</li></ul><p><strong>Returns</strong></p><ul><li><code>labels::AbstractArray</code>: The predicted label for each data point in <code>X</code>.</li></ul><p><strong>Example</strong></p><p>label = Models.predict_label(M, x) # returns the predicted label for each data point in <code>x</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L50-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.predict_proba-Tuple{AbstractFittedModel, Union{Nothing, CounterfactualData}, Union{Nothing, AbstractArray}}" href="#CounterfactualExplanations.Models.predict_proba-Tuple{AbstractFittedModel, Union{Nothing, CounterfactualData}, Union{Nothing, AbstractArray}}"><code>CounterfactualExplanations.Models.predict_proba</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">predict_proba(M::AbstractFittedModel, counterfactual_data::CounterfactualData, X::Union{Nothing,AbstractArray})</code></pre><p>Returns the predicted output probabilities for a given model <code>M</code>, data set <code>counterfactual_data</code> and input data <code>X</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/utils.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{AbstractFittedModel, AbstractArray}" href="#CounterfactualExplanations.Models.probs-Tuple{AbstractFittedModel, AbstractArray}"><code>CounterfactualExplanations.Models.probs</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::AbstractFittedModel, X::AbstractArray)</code></pre><p>Generic method that is compulsory for all models. It returns the normalized model predictions, so the predicted probabilities in the case of classification. In regression (not currently implemented) this method is redundant. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/Models.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.EvoTreeModel, AbstractMatrix{&lt;:Number}}" href="#CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.EvoTreeModel, AbstractMatrix{&lt;:Number}}"><code>CounterfactualExplanations.Models.probs</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::EvoTreeModel, X::AbstractArray{&lt;:Number, 2})</code></pre><p>Calculates the probability scores for each output class for the two-dimensional input data matrix X.</p><p><strong>Arguments</strong></p><ul><li><code>M::EvoTreeModel</code>: The EvoTree model.</li><li><code>X::AbstractArray</code>: The feature vector for which the predictions are made.</li></ul><p><strong>Returns</strong></p><ul><li><code>p::Matrix</code>: A matrix of probability scores for each output class for each data point in X.</li></ul><p><strong>Example</strong></p><p>probabilities = Models.probs(M, X) # calculates the probability scores for each output class for each data point in X.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L68-L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.EvoTreeModel, AbstractVector{&lt;:Number}}" href="#CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.EvoTreeModel, AbstractVector{&lt;:Number}}"><code>CounterfactualExplanations.Models.probs</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::EvoTreeModel, X::AbstractArray{&lt;:Number, 1})</code></pre><p>Works the same way as the probs(M::EvoTreeModel, X::AbstractArray{&lt;:Number, 2}) method above, but handles 1-dimensional rather than 2-dimensional input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractMatrix{&lt;:Number}}" href="#CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractMatrix{&lt;:Number}}"><code>CounterfactualExplanations.Models.probs</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::TreeModel, X::AbstractArray{&lt;:Number, 2})</code></pre><p>Calculates the probability scores for each output class for the two-dimensional input data matrix X.</p><p><strong>Arguments</strong></p><ul><li><code>M::TreeModel</code>: The TreeModel.</li><li><code>X::AbstractArray</code>: The feature vector for which the predictions are made.</li></ul><p><strong>Returns</strong></p><ul><li><code>p::Matrix</code>: A matrix of probability scores for each output class for each data point in X.</li></ul><p><strong>Example</strong></p><p>probabilities = Models.probs(M, X) # calculates the probability scores for each output class for each data point in X.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L122-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractVector{&lt;:Number}}" href="#CounterfactualExplanations.Models.probs-Tuple{CounterfactualExplanations.Models.TreeModel, AbstractVector{&lt;:Number}}"><code>CounterfactualExplanations.Models.probs</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">probs(M::TreeModel, X::AbstractArray{&lt;:Number, 1})</code></pre><p>Works the same way as the probs(M::TreeModel, X::AbstractArray{&lt;:Number, 2}) method above, but handles 1-dimensional rather than 2-dimensional input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L146-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.generator_catalogue" href="#CounterfactualExplanations.Generators.generator_catalogue"><code>CounterfactualExplanations.Generators.generator_catalogue</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><p>A dictionary containing the constructors of all available counterfactual generators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/Generators.jl#L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.AbstractGradientBasedGenerator" href="#CounterfactualExplanations.Generators.AbstractGradientBasedGenerator"><code>CounterfactualExplanations.Generators.AbstractGradientBasedGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractGradientBasedGenerator</code></pre><p>An abstract type that serves as the base type for gradient-based counterfactual generators. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/base.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.AbstractNonGradientBasedGenerator" href="#CounterfactualExplanations.Generators.AbstractNonGradientBasedGenerator"><code>CounterfactualExplanations.Generators.AbstractNonGradientBasedGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AbstractNonGradientBasedGenerator</code></pre><p>An abstract type that serves as the base type for non gradient-based counterfactual generators. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/base.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.FeatureTweakGenerator" href="#CounterfactualExplanations.Generators.FeatureTweakGenerator"><code>CounterfactualExplanations.Generators.FeatureTweakGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FeatureTweakGenerator(œµ::AbstractFloat=0.1)</code></pre><p>Constructs a new Feature Tweak Generator object.</p><p>Uses the L2-norm as the penalty to measure the distance between the counterfactual and the factual. According to the paper by Tolomei er al., an alternative choice here would be using the L0-norm to simply minimize the number of features that are changed through the tweak.</p><p><strong>Arguments</strong></p><ul><li><code>œµ::AbstractFloat</code>: The tolerance value for the feature tweaks. Described at length in Tolomei et al. (https://arxiv.org/pdf/1706.06691.pdf).</li></ul><p><strong>Returns</strong></p><ul><li><code>generator::FeatureTweakGenerator</code>: A non-gradient-based generator that can be used to generate counterfactuals using the feature tweak method.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/feature_tweak/feature_tweak.jl#L8-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.FeatureTweakGenerator" href="#CounterfactualExplanations.Generators.FeatureTweakGenerator"><code>CounterfactualExplanations.Generators.FeatureTweakGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Feature Tweak counterfactual generator class.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/feature_tweak/feature_tweak.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GradientBasedGenerator" href="#CounterfactualExplanations.Generators.GradientBasedGenerator"><code>CounterfactualExplanations.Generators.GradientBasedGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base class for gradient-based counterfactual generators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/base.jl#L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GradientBasedGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GradientBasedGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GradientBasedGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GradientBasedGenerator(;
	loss::Union{Nothing,Function}=nothing,
	penalty::Penalty=nothing,
	Œª::Union{Nothing,AbstractFloat,Vector{AbstractFloat}}=nothing,
	latent_space::Bool::false,
	opt::Flux.Optimise.AbstractOptimiser=Flux.Descent(),
)</code></pre><p>Default outer constructor for <code>GradientBasedGenerator</code>.</p><p><strong>Arguments</strong></p><ul><li><code>loss::Union{Nothing,Function}=nothing</code>: The loss function used by the model.</li><li><code>penalty::Penalty=nothing</code>: A penalty function for the generator to penalize counterfactuals too far from the original point.</li><li><code>Œª::Union{Nothing,AbstractFloat,Vector{AbstractFloat}}=nothing</code>: The weight of the penalty function.</li><li><code>latent_space::Bool=false</code>: Whether to use the latent space of a generative model to generate counterfactuals.</li><li><code>opt::Flux.Optimise.AbstractOptimiser=Flux.Descent()</code>: The optimizer to use for the generator.</li></ul><p><strong>Returns</strong></p><ul><li><code>generator::GradientBasedGenerator</code>: A gradient-based counterfactual generator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/base.jl#L20-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GrowingSpheresGenerator" href="#CounterfactualExplanations.Generators.GrowingSpheresGenerator"><code>CounterfactualExplanations.Generators.GrowingSpheresGenerator</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Growing Spheres counterfactual generator class.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GrowingSpheresGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GrowingSpheresGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GrowingSpheresGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">GrowingSpheresGenerator(; n::Int=100, Œ∑::Float64=0.1, kwargs...)</code></pre><p>Constructs a new Growing Spheres Generator object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.JSMADescent" href="#CounterfactualExplanations.Generators.JSMADescent"><code>CounterfactualExplanations.Generators.JSMADescent</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>An optimisation rule that can be used to implement a Jacobian-based Saliency Map Attack.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/optimizers/JSMADescent.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.JSMADescent-Tuple{}" href="#CounterfactualExplanations.Generators.JSMADescent-Tuple{}"><code>CounterfactualExplanations.Generators.JSMADescent</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Outer constructor for the <a href="#CounterfactualExplanations.Generators.JSMADescent"><code>JSMADescent</code></a> rule.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/optimizers/JSMADescent.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.CLUEGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.CLUEGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.CLUEGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CLUEGenerator(
    ;
    loss::Symbol=:logitbinarycrossentropy,
    complexity::Function=norm,
    Œª::AbstractFloat=0.1,
    œµ::AbstractFloat=0.1,
    œÑ::AbstractFloat=1e-5
)

An outer constructor method that instantiates a CLUE generator.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">generator = CLUEGenerator()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/clue.jl#L1-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.ClaPROARGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.ClaPROARGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.ClaPROARGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>ClaPGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.DiCEGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.DiCEGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.DiCEGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>DiCEGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GenericGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GenericGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GenericGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>GenericGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GravitationalGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GravitationalGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GravitationalGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>GravitationalGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.GreedyGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.GreedyGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.GreedyGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>GreedyGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.ProbeGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.ProbeGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.ProbeGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ProbeGenerator(; Œª::AbstractFloat=0.1, loss::Symbol=:mse, penalty=distance_l1, kwargs...)</code></pre><p>Create a generator that generates counterfactual probes using the specified loss function and penalty function.</p><p><strong>Arguments</strong></p><ul><li><code>Œª::AbstractFloat</code>: The regularization parameter for the generator.</li><li><code>loss::Symbol</code>: The loss function to use for the generator. Defaults to <code>:mse</code>.</li><li><code>penalty</code>: The penalty function to use for the generator. Defaults to <code>distance_l1</code>.</li><li><code>kwargs</code>: Additional keyword arguments to pass to the <code>Generator</code> constructor.</li></ul><p><strong>Returns</strong></p><p>A <code>Generator</code> object that can be used to generate counterfactual probes.</p><p>based on https://arxiv.org/abs/2203.06768</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/probe.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.REVISEGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.REVISEGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.REVISEGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>REVISEGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.WachterGenerator-Tuple{}" href="#CounterfactualExplanations.Generators.WachterGenerator-Tuple{}"><code>CounterfactualExplanations.Generators.WachterGenerator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Constructor for <code>WachterGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/generators.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.conditions_satisfied-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.conditions_satisfied-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.conditions_satisfied</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">conditions_satisfied(generator::AbstractGradientBasedGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>The default method to check if the all conditions for convergence of the counterfactual search have been satisified for gradient-based generators. By default, gradient-based search is considered to have converged as soon as the proposed feature changes for all features are smaller than one percent of its standard deviation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/utils.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.feature_tweaking-Tuple{FeatureTweakGenerator, CounterfactualExplanations.Models.TreeModel, AbstractArray, Union{Int64, AbstractFloat, String, Symbol}}" href="#CounterfactualExplanations.Generators.feature_tweaking-Tuple{FeatureTweakGenerator, CounterfactualExplanations.Models.TreeModel, AbstractArray, Union{Int64, AbstractFloat, String, Symbol}}"><code>CounterfactualExplanations.Generators.feature_tweaking</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_tweaking(generator::FeatureTweakGenerator, ensemble::FluxEnsemble, x::AbstractArray, target::RawTargetType)</code></pre><p>Returns a counterfactual instance of <code>x</code> based on the ensemble of classifiers provided.</p><p><strong>Arguments</strong></p><ul><li><code>generator::FeatureTweakGenerator</code>: The feature tweak generator.</li><li><code>M::Models.TreeModel</code>: The model for which the counterfactual is generated. Must be a tree-based model.</li><li><code>x::AbstractArray</code>: The factual instance.</li><li><code>target::RawTargetType</code>: The target class.</li></ul><p><strong>Returns</strong></p><ul><li><code>x_out::AbstractArray</code>: The counterfactual instance.</li></ul><p><strong>Example</strong></p><p>x = feature_tweaking(generator, M, x, target) # returns a counterfactual instance of <code>x</code> based on the ensemble of classifiers provided</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/feature_tweak/feature_tweak.jl#L26-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.generate_perturbations-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.generate_perturbations-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.generate_perturbations</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_perturbations(generator::AbstractGradientBasedGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>The default method to generate feature perturbations for gradient-based generators through simple gradient descent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/utils.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.hinge_loss-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.hinge_loss-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.hinge_loss</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hinge_loss(ce::AbstractCounterfactualExplanation)</code></pre><p>Calculate the hinge loss of a counterfactual explanation.</p><p><strong>Arguments</strong></p><ul><li><code>ce::AbstractCounterfactualExplanation</code>: The counterfactual explanation to calculate the hinge loss for.</li></ul><p><strong>Returns</strong></p><p>The hinge loss of the counterfactual explanation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/probe.jl#L64-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.invalidation_rate-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.invalidation_rate-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.invalidation_rate</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">invalidation_rate(ce::AbstractCounterfactualExplanation)</code></pre><p>Calculate the invalidation rate of a counterfactual explanation.</p><p><strong>Arguments</strong></p><ul><li><code>ce::AbstractCounterfactualExplanation</code>: The counterfactual explanation to calculate the invalidation rate for.</li><li><code>kwargs</code>: Additional keyword arguments to pass to the function.</li></ul><p><strong>Returns</strong></p><p>The invalidation rate of the counterfactual explanation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/probe.jl#L28-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.mutability_constraints-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.mutability_constraints-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.mutability_constraints</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mutability_constraints(generator::AbstractGradientBasedGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>The default method to return mutability constraints that are dependent on the current counterfactual search state. For generic gradient-based generators, no state-dependent constraints are added.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/utils.jl#L42-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.@objective-Tuple{Any, Any}" href="#CounterfactualExplanations.Generators.@objective-Tuple{Any, Any}"><code>CounterfactualExplanations.Generators.@objective</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">objective(generator, ex)</code></pre><p>A macro that can be used to define the counterfactual search objective.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/macros.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.@search_feature_space-Tuple{Any}" href="#CounterfactualExplanations.Generators.@search_feature_space-Tuple{Any}"><code>CounterfactualExplanations.Generators.@search_feature_space</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">search_feature_space(generator)</code></pre><p>A simple macro that can be used to specify feature space search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/macros.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.@search_latent_space-Tuple{Any}" href="#CounterfactualExplanations.Generators.@search_latent_space-Tuple{Any}"><code>CounterfactualExplanations.Generators.@search_latent_space</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">search_latent_space(generator)</code></pre><p>A simple macro that can be used to specify latent space search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/macros.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.@with_optimiser-Tuple{Any, Any}" href="#CounterfactualExplanations.Generators.@with_optimiser-Tuple{Any, Any}"><code>CounterfactualExplanations.Generators.@with_optimiser</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">with_optimiser(generator, optimiser)</code></pre><p>A simple macro that can be used to specify the optimiser to be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/macros.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.ddp_diversity-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.ddp_diversity-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.ddp_diversity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ddp_diversity(
    ce::AbstractCounterfactualExplanation;
    perturbation_size=1e-5
)</code></pre><p>Evaluates how diverse the counterfactuals are using a Determinantal Point Process (DDP).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/penalties.jl#L60-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance(ce::AbstractCounterfactualExplanation, p::Real=2)</code></pre><p>Computes the distance of the counterfactual to the original factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/distance_utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance_l0-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance_l0-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance_l0</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_l0(ce::AbstractCounterfactualExplanation)</code></pre><p>Computes the L0 distance of the counterfactual to the original factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/penalties.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance_l1-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance_l1-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance_l1</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_l1(ce::AbstractCounterfactualExplanation)</code></pre><p>Computes the L1 distance of the counterfactual to the original factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/penalties.jl#L33-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance_l2-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance_l2-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance_l2</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_l2(ce::AbstractCounterfactualExplanation)</code></pre><p>Computes the L2 (Euclidean) distance of the counterfactual to the original factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/penalties.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance_linf-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance_linf-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance_linf</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_linf(ce::AbstractCounterfactualExplanation)</code></pre><p>Computes the L-inf distance of the counterfactual to the original factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/penalties.jl#L51-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance_mad-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance_mad-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance_mad</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_mad(ce::AbstractCounterfactualExplanation; agg=mean)</code></pre><p>This is the distance measure proposed by Wachter et al. (2017).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/penalties.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.logitbinarycrossentropy-Tuple{AbstractCounterfactualExplanation}" href="#Flux.Losses.logitbinarycrossentropy-Tuple{AbstractCounterfactualExplanation}"><code>Flux.Losses.logitbinarycrossentropy</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Flux.Losses.logitbinarycrossentropy(ce::AbstractCounterfactualExplanation)</code></pre><p>Simply extends the <code>logitbinarycrossentropy</code> method to work with objects of type <code>AbstractCounterfactualExplanation</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/loss_functions.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.logitcrossentropy-Tuple{AbstractCounterfactualExplanation}" href="#Flux.Losses.logitcrossentropy-Tuple{AbstractCounterfactualExplanation}"><code>Flux.Losses.logitcrossentropy</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Flux.Losses.logitcrossentropy(ce::AbstractCounterfactualExplanation)</code></pre><p>Simply extends the <code>logitcrossentropy</code> method to work with objects of type <code>AbstractCounterfactualExplanation</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/loss_functions.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Flux.Losses.mse-Tuple{AbstractCounterfactualExplanation}" href="#Flux.Losses.mse-Tuple{AbstractCounterfactualExplanation}"><code>Flux.Losses.mse</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Flux.Losses.mse(ce::AbstractCounterfactualExplanation)</code></pre><p>Simply extends the <code>mse</code> method to work with objects of type <code>AbstractCounterfactualExplanation</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/loss_functions.jl#L31-L35">source</a></section></article><h2 id="Internal-functions"><a class="docs-heading-anchor" href="#Internal-functions">Internal functions</a><a id="Internal-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.parameters" href="#CounterfactualExplanations.parameters"><code>CounterfactualExplanations.parameters</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><p>A container for global parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.FluxModelParams" href="#CounterfactualExplanations.FluxModelParams"><code>CounterfactualExplanations.FluxModelParams</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FluxModelParams</code></pre><p>Default MLP training parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L135-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.IsParallel" href="#CounterfactualExplanations.IsParallel"><code>CounterfactualExplanations.IsParallel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Processes that can be parallelized have this trait.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/traits/traits.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.NotParallel" href="#CounterfactualExplanations.NotParallel"><code>CounterfactualExplanations.NotParallel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>By default all types of have this trait.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/traits/traits.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.ProcessStyle" href="#CounterfactualExplanations.ProcessStyle"><code>CounterfactualExplanations.ProcessStyle</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>A base type for a style of process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/traits/traits.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.ProcessStyle-Tuple{Type{&lt;:typeof(CounterfactualExplanations.Evaluation.evaluate)}}" href="#CounterfactualExplanations.ProcessStyle-Tuple{Type{&lt;:typeof(CounterfactualExplanations.Evaluation.evaluate)}}"><code>CounterfactualExplanations.ProcessStyle</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>The <code>evaluate</code> function is parallelizable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/assign_traits.jl#L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.ProcessStyle-Tuple{Type{&lt;:typeof(generate_counterfactual)}}" href="#CounterfactualExplanations.ProcessStyle-Tuple{Type{&lt;:typeof(generate_counterfactual)}}"><code>CounterfactualExplanations.ProcessStyle</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>The <code>generate_counterfactual</code> method is parallelizable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/assign_traits.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.Broadcast.broadcastable-Tuple{AbstractFittedModel}" href="#Base.Broadcast.broadcastable-Tuple{AbstractFittedModel}"><code>Base.Broadcast.broadcastable</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Treat <code>AbstractFittedModel</code> as scalar when broadcasting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/base_types.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.Broadcast.broadcastable-Tuple{AbstractGenerator}" href="#Base.Broadcast.broadcastable-Tuple{AbstractGenerator}"><code>Base.Broadcast.broadcastable</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Treat <code>AbstractGenerator</code> as scalar when broadcasting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/base_types.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.adjust_shape!-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.adjust_shape!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.adjust_shape!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">adjust_shape!(ce::CounterfactualExplanation)</code></pre><p>A convenience method that adjusts the dimensions of the counterfactual state and related fields.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/utils.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.adjust_shape-Tuple{CounterfactualExplanation, AbstractArray}" href="#CounterfactualExplanations.adjust_shape-Tuple{CounterfactualExplanation, AbstractArray}"><code>CounterfactualExplanations.adjust_shape</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">adjust_shape(
    ce::CounterfactualExplanation, 
    x::AbstractArray
)</code></pre><p>A convenience method that adjusts the dimensions of <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/utils.jl#L40-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.apply_domain_constraints!-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.apply_domain_constraints!-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.apply_domain_constraints!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_domain_constraints!(ce::CounterfactualExplanation)</code></pre><p>Wrapper function that applies underlying domain constraints.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/search.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.apply_mutability-Tuple{CounterfactualExplanation, AbstractArray}" href="#CounterfactualExplanations.apply_mutability-Tuple{CounterfactualExplanation, AbstractArray}"><code>CounterfactualExplanations.apply_mutability</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_mutability(
    ce::CounterfactualExplanation,
    Œîs‚Ä≤::AbstractArray,
)</code></pre><p>A subroutine that applies mutability constraints to the proposed vector of feature perturbations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/search.jl#L27-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.counterfactual-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.counterfactual-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.counterfactual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual(ce::CounterfactualExplanation)</code></pre><p>A convenience method that returns the counterfactual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.counterfactual_label-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.counterfactual_label-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.counterfactual_label</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual_label(ce::CounterfactualExplanation)</code></pre><p>A convenience method that returns the predicted label of the counterfactual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L55-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.counterfactual_label_path-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.counterfactual_label_path-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.counterfactual_label_path</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual_label_path(ce::CounterfactualExplanation)</code></pre><p>Returns the counterfactual labels for each step of the search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/path_tracking.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.counterfactual_probability" href="#CounterfactualExplanations.counterfactual_probability"><code>CounterfactualExplanations.counterfactual_probability</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">counterfactual_probability(ce::CounterfactualExplanation)</code></pre><p>A convenience method that computes the class probabilities of the counterfactual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.counterfactual_probability_path-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.counterfactual_probability_path-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.counterfactual_probability_path</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">counterfactual_probability_path(ce::CounterfactualExplanation)</code></pre><p>Returns the counterfactual probabilities for each step of the search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/path_tracking.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.decode_state" href="#CounterfactualExplanations.decode_state"><code>CounterfactualExplanations.decode_state</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>function decode_state(     ce::CounterfactualExplanation,     x::Union{AbstractArray,Nothing}=nothing, )</p><p>Applies all the applicable decoding functions:</p><ol><li>If applicable, map the state variable back from the latent space to the feature space.</li><li>If and where applicable, inverse-transform features.</li><li>Reconstruct all categorical encodings.</li></ol><p>Finally, the decoded counterfactual is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/encodings.jl#L41-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.encode_state" href="#CounterfactualExplanations.encode_state"><code>CounterfactualExplanations.encode_state</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>function encode_state(     ce::CounterfactualExplanation,      x::Union{AbstractArray,Nothing} = nothing, )</p><p>Applies all required encodings to <code>x</code>:</p><ol><li>If applicable, it maps <code>x</code> to the latent space learned by the generative model.</li><li>If and where applicable, it rescales features. </li></ol><p>Finally, it returns the encoded state variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/encodings.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.factual-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.factual-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.factual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factual(ce::CounterfactualExplanation)</code></pre><p>A convenience method to retrieve the factual <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.factual_label-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.factual_label-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.factual_label</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factual_label(ce::CounterfactualExplanation)</code></pre><p>A convenience method to get the predicted label associated with the factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.factual_probability-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.factual_probability-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.factual_probability</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">factual_probability(ce::CounterfactualExplanation)</code></pre><p>A convenience method to compute the class probabilities of the factual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/info_extraction.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.get_meta-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.get_meta-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.get_meta</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_meta(ce::CounterfactualExplanation)</code></pre><p>Returns meta data for a counterfactual explanation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/utils.jl#L30-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.guess_likelihood-Tuple{Union{AbstractVector, AbstractMatrix}}" href="#CounterfactualExplanations.guess_likelihood-Tuple{Union{AbstractVector, AbstractMatrix}}"><code>CounterfactualExplanations.guess_likelihood</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">guess_likelihood(y::RawOutputArrayType)</code></pre><p>Guess the likelihood based on the scientific type of the output array. Returns a symbol indicating the guessed likelihood and the scientific type of the output array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.guess_loss-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.guess_loss-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.guess_loss</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">guess_loss(ce::CounterfactualExplanation)</code></pre><p>Guesses the loss function to be used for the counterfactual search in case <code>likelihood</code> field is specified for the <a href="#CounterfactualExplanations.AbstractFittedModel"><code>AbstractFittedModel</code></a> instance and no loss function was explicitly declared for <a href="#CounterfactualExplanations.AbstractGenerator"><code>AbstractGenerator</code></a> instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/utils.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.initialize_state-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.initialize_state-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.initialize_state</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">initialize_state(ce::CounterfactualExplanation)</code></pre><p>Initializes the starting point for the factual(s):</p><ol><li>If <code>ce.initialization</code> is set to <code>:identity</code> or counterfactuals are searched in a latent space, then nothing is done.</li><li>If <code>ce.initialization</code> is set to <code>:add_perturbation</code>, then a random perturbation is added to the factual following following Slack (2021): https://arxiv.org/abs/2106.02666. The authors show that this improves adversarial robustness.</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/initialisation.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.map_from_latent" href="#CounterfactualExplanations.map_from_latent"><code>CounterfactualExplanations.map_from_latent</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">map_from_latent(
    ce::CounterfactualExplanation,
    x::Union{AbstractArray,Nothing}=nothing,
)</code></pre><p>Maps the state variable back from the latent space to the feature space.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/latent_space_mappings.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.map_to_latent" href="#CounterfactualExplanations.map_to_latent"><code>CounterfactualExplanations.map_to_latent</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>function map<em>to</em>latent(         ce::CounterfactualExplanation,         x::Union{AbstractArray,Nothing}=nothing,     ) </p><p>Maps <code>x</code> from the feature space <span>$\mathcal{X}$</span> to the latent space learned by the generative model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/latent_space_mappings.jl#L33-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.output_dim-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.output_dim-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.output_dim</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">output_dim(ce::CounterfactualExplanation)</code></pre><p>A convenience method that returns the output dimension of the predictive model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.reset!-Tuple{CounterfactualExplanations.FluxModelParams}" href="#CounterfactualExplanations.reset!-Tuple{CounterfactualExplanations.FluxModelParams}"><code>CounterfactualExplanations.reset!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reset!(flux_training_params::FluxModelParams)</code></pre><p>Restores the default parameter values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/global_utils.jl#L155-L159">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.steps_exhausted-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.steps_exhausted-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.steps_exhausted</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">steps_exhausted(ce::CounterfactualExplanation)</code></pre><p>A convenience method that checks if the number of maximum iterations has been exhausted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/convergence.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.target_probs_path-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.target_probs_path-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.target_probs_path</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">target_probs_path(ce::CounterfactualExplanation)</code></pre><p>Returns the target probabilities for each step of the search.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/path_tracking.jl#L37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.threshold_reached-Tuple{CounterfactualExplanation, AbstractArray}" href="#CounterfactualExplanations.threshold_reached-Tuple{CounterfactualExplanation, AbstractArray}"><code>CounterfactualExplanations.threshold_reached</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">threshold_reached(ce::CounterfactualExplanation, x::AbstractArray)</code></pre><p>A convenience method that determines if the predefined threshold for the target class probability has been reached for a specific sample <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/convergence.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.threshold_reached-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.threshold_reached-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.threshold_reached</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">threshold_reached(ce::CounterfactualExplanation)</code></pre><p>A convenience method that determines if the predefined threshold for the target class probability has been reached.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/convergence.jl#L41-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.wants_latent_space-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.wants_latent_space-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.wants_latent_space</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">wants_latent_space(
    ce::CounterfactualExplanation, 
    x::Union{AbstractArray,Nothing} = nothing,
)</code></pre><p>A convenience function that checks if latent space search is applicable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/counterfactuals/latent_space_mappings.jl#L61-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.distance_measures" href="#CounterfactualExplanations.Evaluation.distance_measures"><code>CounterfactualExplanations.Evaluation.distance_measures</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><p>All distance measures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/Evaluation.jl#L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.vcat-Tuple{CounterfactualExplanations.Evaluation.Benchmark, CounterfactualExplanations.Evaluation.Benchmark}" href="#Base.vcat-Tuple{CounterfactualExplanations.Evaluation.Benchmark, CounterfactualExplanations.Evaluation.Benchmark}"><code>Base.vcat</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.vcat(bmk1::Benchmark, bmk2::Benchmark)</code></pre><p>Vertically concatenates two <code>Benchmark</code> objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/benchmark.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.compute_measure-Tuple{CounterfactualExplanation, Function, Function}" href="#CounterfactualExplanations.Evaluation.compute_measure-Tuple{CounterfactualExplanation, Function, Function}"><code>CounterfactualExplanations.Evaluation.compute_measure</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_measure(ce::CounterfactualExplanation, measure::Function, agg::Function)</code></pre><p>Computes a single measure for a counterfactual explanation. The measure is applied to the counterfactual explanation <code>ce</code> and aggregated using the aggregation function <code>agg</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/evaluate.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.to_dataframe-Tuple{Vector, Any, Bool, Bool, Bool}" href="#CounterfactualExplanations.Evaluation.to_dataframe-Tuple{Vector, Any, Bool, Bool, Bool}"><code>CounterfactualExplanations.Evaluation.to_dataframe</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">evaluate_dataframe(
    ce::CounterfactualExplanation,
    measure::Vector{Function},
    agg::Function,
    report_each::Bool,
    pivot_longer::Bool,
    store_ce::Bool,
)</code></pre><p>Evaluates a counterfactual explanation and returns a dataframe of evaluation measures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/evaluate.jl#L25-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Evaluation.validity_strict-Tuple{CounterfactualExplanation}" href="#CounterfactualExplanations.Evaluation.validity_strict-Tuple{CounterfactualExplanation}"><code>CounterfactualExplanations.Evaluation.validity_strict</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">validity_strict(ce::CounterfactualExplanation)</code></pre><p>Checks if the counterfactual search has been strictly valid in the sense that it has converged with respect to the pre-specified target probability <code>Œ≥</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/evaluation/measures.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.Broadcast.broadcastable-Tuple{CounterfactualData}" href="#Base.Broadcast.broadcastable-Tuple{CounterfactualData}"><code>Base.Broadcast.broadcastable</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Treat <code>CounterfactualData</code> as scalar when broadcasting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing._subset-Tuple{CounterfactualData, Vector{Int64}}" href="#CounterfactualExplanations.DataPreprocessing._subset-Tuple{CounterfactualData, Vector{Int64}}"><code>CounterfactualExplanations.DataPreprocessing._subset</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_subset(data::CounterfactualData, idx::Vector{Int})</code></pre><p>Creates a subset of the <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.convert_to_1d-Tuple{Matrix, AbstractArray}" href="#CounterfactualExplanations.DataPreprocessing.convert_to_1d-Tuple{Matrix, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.convert_to_1d</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">convert_to_1d(y::Matrix, y_levels::AbstractArray)</code></pre><p>Helper function to convert a one-hot encoded matrix to a vector of labels. This is necessary because MLJ models require the labels to be represented as a vector, but the synthetic datasets in this package hold the labels in one-hot encoded form.</p><p><strong>Arguments</strong></p><ul><li><code>y::Matrix</code>: The one-hot encoded matrix.</li><li><code>y_levels::AbstractArray</code>: The levels of the categorical variable.</li></ul><p><strong>Returns</strong></p><ul><li><code>labels</code>: A vector of labels.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L107-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.get_generative_model-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.get_generative_model-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.get_generative_model</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_generative_model(counterfactual_data::CounterfactualData)</code></pre><p>Returns the underlying generative model. If there is no existing model available, the default generative model (VAE) is used. Otherwise it is expected that existing generative model has been pre-trained or else a warning is triggered.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/generative_model_utils.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.has_pretrained_generative_model-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.has_pretrained_generative_model-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.has_pretrained_generative_model</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">has_pretrained_generative_model(counterfactual_data::CounterfactualData)</code></pre><p>Checks if generative model is present and trained.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/generative_model_utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.input_dim-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.input_dim-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.input_dim</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">input_dim(counterfactual_data::CounterfactualData)</code></pre><p>Helper function that returns the input dimension (number of features) of the data. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L140-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.mutability_constraints-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.mutability_constraints-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.mutability_constraints</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mutability_constraints(counterfactual_data::CounterfactualData)</code></pre><p>A convenience function that returns the mutability constraints. If none were specified, it is assumed that all features are mutable in <code>:both</code> directions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/data_contraints.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.preprocess_data_for_mlj-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.preprocess_data_for_mlj-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.preprocess_data_for_mlj</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preprocess_data_for_mlj(data::CounterfactualData)</code></pre><p>Helper function to preprocess <code>data::CounterfactualData</code> for MLJ models.</p><p><strong>Arguments</strong></p><ul><li><code>data::CounterfactualData</code>: The data to be preprocessed.</li></ul><p><strong>Returns</strong></p><ul><li>(<code>df_x</code>, <code>y</code>): A tuple containing the preprocessed data, with <code>df_x</code> being a DataFrame object and <code>y</code> being a categorical vector.</li></ul><p><strong>Example</strong></p><p>X, y = preprocess<em>data</em>for_mlj(data)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L82-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.reconstruct_cat_encoding-Tuple{CounterfactualData, AbstractArray}" href="#CounterfactualExplanations.DataPreprocessing.reconstruct_cat_encoding-Tuple{CounterfactualData, AbstractArray}"><code>CounterfactualExplanations.DataPreprocessing.reconstruct_cat_encoding</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reconstruct_cat_encoding(counterfactual_data::CounterfactualData, x::Vector)</code></pre><p>Reconstruct the categorical encoding for a single instance. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/counterfactual_data.jl#L191-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.subsample-Tuple{CounterfactualData, Int64}" href="#CounterfactualExplanations.DataPreprocessing.subsample-Tuple{CounterfactualData, Int64}"><code>CounterfactualExplanations.DataPreprocessing.subsample</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subsample(data::CounterfactualData, n::Int)</code></pre><p>Helper function to randomly subsample <code>data::CounterfactualData</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.train_test_split-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.train_test_split-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.train_test_split</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train_test_split(data::CounterfactualData;test_size=0.2)</code></pre><p>Splits data into train and test split where <code>test_size</code> is the proportion of the data to be used for testing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.DataPreprocessing.unpack_data-Tuple{CounterfactualData}" href="#CounterfactualExplanations.DataPreprocessing.unpack_data-Tuple{CounterfactualData}"><code>CounterfactualExplanations.DataPreprocessing.unpack_data</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unpack_data(data::CounterfactualData)</code></pre><p>Helper function that unpacks data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/data_preprocessing/utils.jl#L148-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractCustomDifferentiableModel" href="#CounterfactualExplanations.Models.AbstractCustomDifferentiableModel"><code>CounterfactualExplanations.Models.AbstractCustomDifferentiableModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for custom differentiable models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/differentiable.jl#L16-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractFluxModel" href="#CounterfactualExplanations.Models.AbstractFluxModel"><code>CounterfactualExplanations.Models.AbstractFluxModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for differentiable models written in Flux.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/differentiable.jl#L6-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractMLJModel" href="#CounterfactualExplanations.Models.AbstractMLJModel"><code>CounterfactualExplanations.Models.AbstractMLJModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for differentiable models from the MLJ library.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/differentiable.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractNonDifferentiableJuliaModel" href="#CounterfactualExplanations.Models.AbstractNonDifferentiableJuliaModel"><code>CounterfactualExplanations.Models.AbstractNonDifferentiableJuliaModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for non-differentiable models written in pure Julia.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/nondifferentiable.jl#L6-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.AbstractNonDifferentiableModel" href="#CounterfactualExplanations.Models.AbstractNonDifferentiableModel"><code>CounterfactualExplanations.Models.AbstractNonDifferentiableModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Base type for non-differentiable models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/nondifferentiable.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.FluxEnsembleParams" href="#CounterfactualExplanations.Models.FluxEnsembleParams"><code>CounterfactualExplanations.Models.FluxEnsembleParams</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FluxModelParams</code></pre><p>Default Deep Ensemble training parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/ensemble.jl#L41-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.TreeModel" href="#CounterfactualExplanations.Models.TreeModel"><code>CounterfactualExplanations.Models.TreeModel</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TreeModel &lt;: AbstractNonDifferentiableJuliaModel</code></pre><p>Constructor for tree-based models from the MLJ library. </p><p><strong>Arguments</strong></p><ul><li><code>model::Any</code>: The model selected by the user. Must be a model from the MLJ library.</li><li><code>likelihood::Symbol</code>: The likelihood of the model. Must be one of <code>[:classification_binary, :classification_multi]</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>TreeModel</code>: A tree-based model from the MLJ library wrapped inside the TreeModel class.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L3-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.TreeModel-Tuple{Any}" href="#CounterfactualExplanations.Models.TreeModel-Tuple{Any}"><code>CounterfactualExplanations.Models.TreeModel</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><p>Outer constructor method for TreeModel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L42-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.binary_to_onehot-Tuple{Any}" href="#CounterfactualExplanations.Models.binary_to_onehot-Tuple{Any}"><code>CounterfactualExplanations.Models.binary_to_onehot</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">binary_to_onehot(p)</code></pre><p>Helper function to turn dummy-encoded variable into onehot-encoded variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/utils.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.build_ensemble-Tuple{Int64}" href="#CounterfactualExplanations.Models.build_ensemble-Tuple{Int64}"><code>CounterfactualExplanations.Models.build_ensemble</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">build_ensemble(K::Int;kw=(input_dim=2,n_hidden=32,output_dim=1))</code></pre><p>Helper function that builds an ensemble of <code>K</code> models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/ensemble.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.build_mlp-Tuple{}" href="#CounterfactualExplanations.Models.build_mlp-Tuple{}"><code>CounterfactualExplanations.Models.build_mlp</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">build_mlp()</code></pre><p>Helper function to build simple MLP.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">nn = build_mlp()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/MLP.jl#L100-L111">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.data_loader-Tuple{CounterfactualData}" href="#CounterfactualExplanations.Models.data_loader-Tuple{CounterfactualData}"><code>CounterfactualExplanations.Models.data_loader</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">data_loader(data::CounterfactualData)</code></pre><p>Prepares counterfactual data for training in Flux.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.get_individual_classifiers-Tuple{CounterfactualExplanations.Models.TreeModel}" href="#CounterfactualExplanations.Models.get_individual_classifiers-Tuple{CounterfactualExplanations.Models.TreeModel}"><code>CounterfactualExplanations.Models.get_individual_classifiers</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_individual_classifiers(M::TreeModel)</code></pre><p>Returns the individual classifiers in the forest. If the input is a decision tree, the method returns the decision tree itself inside an array.</p><p><strong>Arguments</strong></p><ul><li><code>M::TreeModel</code>: The model selected by the user.</li></ul><p><strong>Returns</strong></p><ul><li><code>classifiers::AbstractArray</code>: An array of individual classifiers in the forest.</li></ul><p><strong>Example</strong></p><p>classifiers = Models.get<em>individual</em>classifiers(M) # returns the individual classifiers in the forest</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L69-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.train-Tuple{CounterfactualExplanations.Models.EvoTreeModel, CounterfactualData}" href="#CounterfactualExplanations.Models.train-Tuple{CounterfactualExplanations.Models.EvoTreeModel, CounterfactualData}"><code>CounterfactualExplanations.Models.train</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train(M::EvoTreeModel, data::CounterfactualData; kwargs...)</code></pre><p>Fits the model <code>M</code> to the data in the <code>CounterfactualData</code> object. This method is not called by the user directly.</p><p><strong>Arguments</strong></p><ul><li><code>M::EvoTreeModel</code>: The wrapper for an EvoTree model.</li><li><code>data::CounterfactualData</code>: The <code>CounterfactualData</code> object containing the data to be used for training the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>M::EvoTreeModel</code>: The fitted EvoTree model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/mlj/evotree.jl#L122-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.train-Tuple{CounterfactualExplanations.Models.TreeModel, CounterfactualData}" href="#CounterfactualExplanations.Models.train-Tuple{CounterfactualExplanations.Models.TreeModel, CounterfactualData}"><code>CounterfactualExplanations.Models.train</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train(M::TreeModel, data::CounterfactualData; kwargs...)</code></pre><p>Fits the model <code>M</code> to the data in the <code>CounterfactualData</code> object. This method is not called by the user directly.</p><p><strong>Arguments</strong></p><ul><li><code>M::TreeModel</code>: The wrapper for a TreeModel.</li><li><code>data::CounterfactualData</code>: The <code>CounterfactualData</code> object containing the data to be used for training the model.</li></ul><p><strong>Returns</strong></p><ul><li><code>M::TreeModel</code>: The fitted TreeModel.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/nondifferentiable/mlj/tree.jl#L203-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.train-Tuple{FluxEnsemble, CounterfactualData}" href="#CounterfactualExplanations.Models.train-Tuple{FluxEnsemble, CounterfactualData}"><code>CounterfactualExplanations.Models.train</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train(M::FluxEnsemble, data::CounterfactualData; kwargs...)</code></pre><p>Wrapper function to retrain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/ensemble.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Models.train-Tuple{FluxModel, CounterfactualData}" href="#CounterfactualExplanations.Models.train-Tuple{FluxModel, CounterfactualData}"><code>CounterfactualExplanations.Models.train</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train(M::FluxModel, data::CounterfactualData; kwargs...)</code></pre><p>Wrapper function to retrain <code>FluxModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/models/differentiable/flux/MLP.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.Penalty" href="#CounterfactualExplanations.Generators.Penalty"><code>CounterfactualExplanations.Generators.Penalty</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>Type union for acceptable argument types for the <code>penalty</code> field of <code>GradientBasedGenerator</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/base.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.Generator-Tuple{}" href="#CounterfactualExplanations.Generators.Generator-Tuple{}"><code>CounterfactualExplanations.Generators.Generator</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Generator(;
	loss::Union{Nothing,Function}=nothing,
	penalty::Penalty=nothing,
	Œª::Union{Nothing,AbstractFloat,Vector{AbstractFloat}}=nothing,
	latent_space::Bool::false,
	opt::Flux.Optimise.AbstractOptimiser=Flux.Descent(),
)</code></pre><p>An outer constructor that allows for more convenient creation of the <code>GradientBasedGenerator</code> type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/base.jl#L57-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators._replace_nans" href="#CounterfactualExplanations.Generators._replace_nans"><code>CounterfactualExplanations.Generators._replace_nans</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">_replace_nans(Œîs‚Ä≤::AbstractArray, old_new::Pair=(NaN =&gt; 0))</code></pre><p>Helper function to deal with exploding gradients. This is only a temporary fix and will be improved.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/utils.jl#L33-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.converged-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.converged-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.converged</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">converged(ce::AbstractCounterfactualExplanation)</code></pre><p><strong>Arguments</strong></p><ul><li><code>ce::AbstractCounterfactualExplanation</code>: The counterfactual explanation object.</li></ul><p><strong>Returns</strong></p><ul><li><code>converged::Bool</code>:</li></ul><p>Finds if we have converged.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L265-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.esatisfactory_instance-Tuple{FeatureTweakGenerator, AbstractArray, AbstractArray}" href="#CounterfactualExplanations.Generators.esatisfactory_instance-Tuple{FeatureTweakGenerator, AbstractArray, AbstractArray}"><code>CounterfactualExplanations.Generators.esatisfactory_instance</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">esatisfactory_instance(generator::FeatureTweakGenerator, x::AbstractArray, paths::Dict{String, Dict{String, Any}})</code></pre><p>Returns an epsilon-satisfactory counterfactual for <code>x</code> based on the paths provided.</p><p><strong>Arguments</strong></p><ul><li><code>generator::FeatureTweakGenerator</code>: The feature tweak generator.</li><li><code>x::AbstractArray</code>: The factual instance.</li><li><code>paths::Dict{String, Dict{String, Any}}</code>: A list of paths to the leaves of the tree to be used for tweaking the feature.</li></ul><p><strong>Returns</strong></p><ul><li><code>esatisfactory::AbstractArray</code>: The epsilon-satisfactory instance.</li></ul><p><strong>Example</strong></p><p>esatisfactory = esatisfactory_instance(generator, x, paths) # returns an epsilon-satisfactory counterfactual for <code>x</code> based on the paths provided</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/feature_tweak/feature_tweak.jl#L78-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.feature_selection!-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.feature_selection!-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.feature_selection!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_selection!(ce::AbstractCounterfactualExplanation)</code></pre><p>Perform feature selection to find the dimension with the closest (but not equal) values between the <code>ce.x</code> (factual) and <code>ce.s‚Ä≤</code> (counterfactual) arrays.</p><p><strong>Arguments</strong></p><ul><li><code>ce::AbstractCounterfactualExplanation</code>: An instance of the <code>AbstractCounterfactualExplanation</code> type representing the counterfactual explanation.</li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code></li></ul><p>The function iteratively modifies the <code>ce.s‚Ä≤</code> counterfactual array by updating its elements to match the corresponding elements in the <code>ce.x</code> factual array, one dimension at a time, until the predicted label of the modified <code>ce.s‚Ä≤</code> matches the predicted label of the <code>ce.x</code> array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L114-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.find_closest_dimension-Tuple{Any, Any}" href="#CounterfactualExplanations.Generators.find_closest_dimension-Tuple{Any, Any}"><code>CounterfactualExplanations.Generators.find_closest_dimension</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">find_closest_dimension(factual, counterfactual)</code></pre><p>Find the dimension with the closest (but not equal) values between the <code>factual</code> and <code>counterfactual</code> arrays.</p><p><strong>Arguments</strong></p><ul><li><code>factual</code>: The factual array.</li><li><code>counterfactual</code>: The counterfactual array.</li></ul><p><strong>Returns</strong></p><ul><li><code>closest_dimension</code>: The index of the dimension with the closest values.</li></ul><p>The function iterates over the indices of the <code>factual</code> array and calculates the absolute difference between the corresponding elements in the <code>factual</code> and <code>counterfactual</code> arrays. It returns the index of the dimension with the smallest difference, excluding dimensions where the values in <code>factual</code> and <code>counterfactual</code> are equal.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L236-L249">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.find_counterfactual-NTuple{4, Any}" href="#CounterfactualExplanations.Generators.find_counterfactual-NTuple{4, Any}"><code>CounterfactualExplanations.Generators.find_counterfactual</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">find_counterfactual(model, factual_class, counterfactual_data, counterfactual_candidates)</code></pre><p>Find the first counterfactual index by predicting labels.</p><p><strong>Arguments</strong></p><ul><li><code>model</code>: The fitted model used for prediction.</li><li><code>target_class</code>: Expected target class.</li><li><code>counterfactual_data</code>: Data required for counterfactual generation.</li><li><code>counterfactual_candidates</code>: The array of counterfactual candidates.</li></ul><p><strong>Returns</strong></p><ul><li><code>counterfactual</code>: The index of the first counterfactual found.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L210-L223">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.growing_spheres_generation!-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.growing_spheres_generation!-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.growing_spheres_generation!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">growing_spheres_generation(ce::AbstractCounterfactualExplanation)</code></pre><p>Generate counterfactual candidates using the growing spheres generation algorithm.</p><p><strong>Arguments</strong></p><ul><li><code>ce::AbstractCounterfactualExplanation</code>: An instance of the <code>AbstractCounterfactualExplanation</code> type representing the counterfactual explanation.</li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code></li></ul><p>This function applies the growing spheres generation algorithm to generate counterfactual candidates. It starts by generating random points uniformly on a sphere, gradually reducing the search space until no counterfactuals are found. Then it expands the search space until at least one counterfactual is found or the maximum number of iterations is reached.</p><p>The algorithm iteratively generates counterfactual candidates and predicts their labels using the model stored in <code>ce.M</code>. It checks if any of the predicted labels are different from the factual class. The process of reducing the search space involves halving the search radius, while the process of expanding the search space involves increasing the search radius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L19-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.h</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h(generator::AbstractGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>Dispatches to the appropriate complexity function for any generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/complexity.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Function, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Function, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.h</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h(generator::AbstractGenerator, penalty::Function, ce::AbstractCounterfactualExplanation)</code></pre><p>Overloads the <code>h</code> function for the case where a single penalty function is provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/complexity.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Nothing, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Nothing, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.h</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h(generator::AbstractGenerator, penalty::Nothing, ce::AbstractCounterfactualExplanation)</code></pre><p>Overloads the <code>h</code> function for the case where no penalty is provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/complexity.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Vector{&lt;:Tuple}, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Vector{&lt;:Tuple}, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.h</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h(generator::AbstractGenerator, penalty::Tuple, ce::AbstractCounterfactualExplanation)</code></pre><p>Overloads the <code>h</code> function for the case where a single penalty function is provided with additional keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/complexity.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Vector{Function}, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.h-Tuple{AbstractGenerator, Vector{Function}, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.h</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">h(generator::AbstractGenerator, penalty::Tuple, ce::AbstractCounterfactualExplanation)</code></pre><p>Overloads the <code>h</code> function for the case where a single penalty function is provided with additional keyword arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/complexity.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.hyper_sphere_coordinates-Tuple{Integer, AbstractArray, AbstractFloat, AbstractFloat}" href="#CounterfactualExplanations.Generators.hyper_sphere_coordinates-Tuple{Integer, AbstractArray, AbstractFloat, AbstractFloat}"><code>CounterfactualExplanations.Generators.hyper_sphere_coordinates</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hyper_sphere_coordinates(n_search_samples::Int, instance::Vector{Float64}, low::Int, high::Int; p_norm::Int=2)</code></pre><p>Generates candidate counterfactuals using the growing spheres method based on hyper-sphere coordinates.</p><p>The implementation follows the Random Point Picking over a sphere algorithm described in the paper: &quot;Learning Counterfactual Explanations for Tabular Data&quot; by Pawelczyk, Broelemann &amp; Kascneci (2020), presented at The Web Conference 2020 (WWW). It ensures that points are sampled uniformly at random using insights from: http://mathworld.wolfram.com/HyperspherePointPicking.html</p><p>The growing spheres method is originally proposed in the paper: &quot;Comparison-based Inverse Classification for Interpretability in Machine Learning&quot; by Thibaut Laugel et al (2018), presented at the International Conference on Information Processing and Management of Uncertainty in Knowledge-Based Systems (2018).</p><p><strong>Arguments</strong></p><ul><li><code>n_search_samples::Int</code>: The number of search samples (int &gt; 0).</li><li><code>instance::AbstractArray</code>: The input point array.</li><li><code>low::AbstractFloat</code>: The lower bound (float &gt;= 0, l &lt; h).</li><li><code>high::AbstractFloat</code>: The upper bound (float &gt;= 0, h &gt; l).</li><li><code>p_norm::Integer</code>: The norm parameter (int &gt;= 1).</li></ul><p><strong>Returns</strong></p><ul><li><code>candidate_counterfactuals::Array</code>: An array of candidate counterfactuals.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/growing_spheres/growing_spheres.jl#L164-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.propose_state-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.propose_state-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.propose_state</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">propose_state(generator::AbstractGradientBasedGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>Proposes new state based on backpropagation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.search_path" href="#CounterfactualExplanations.Generators.search_path"><code>CounterfactualExplanations.Generators.search_path</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">search_path(tree::Union{Leaf, Node}, target::RawTargetType, path::AbstractArray)</code></pre><p>Return a path index list with the inequality symbols, thresholds and feature indices.</p><p><strong>Arguments</strong></p><ul><li><code>tree::Union{Leaf, Node}</code>: The root node of a decision tree.</li><li><code>target::RawTargetType</code>: The target class.</li><li><code>path::AbstractArray</code>: A list containing the paths found thus far.</li></ul><p><strong>Returns</strong></p><ul><li><code>paths::AbstractArray</code>: A list of paths to the leaves of the tree to be used for tweaking the feature.</li></ul><p><strong>Example</strong></p><p>paths = search_path(tree, target) # returns a list of paths to the leaves of the tree to be used for tweaking the feature</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/non_gradient_based/feature_tweak/feature_tweak.jl#L113-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.‚Ñì-Tuple{AbstractGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.‚Ñì-Tuple{AbstractGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.‚Ñì</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">‚Ñì(generator::AbstractGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>Dispatches to the appropriate loss function for any generator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/loss.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.‚Ñì-Tuple{AbstractGenerator, Function, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.‚Ñì-Tuple{AbstractGenerator, Function, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.‚Ñì</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">‚Ñì(generator::AbstractGenerator, loss::Function, ce::AbstractCounterfactualExplanation)</code></pre><p>Overloads the <code>‚Ñì</code> function for the case where a single loss function is provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/loss.jl#L21-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.‚Ñì-Tuple{AbstractGenerator, Nothing, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.‚Ñì-Tuple{AbstractGenerator, Nothing, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.‚Ñì</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">‚Ñì(generator::AbstractGenerator, loss::Nothing, ce::AbstractCounterfactualExplanation)</code></pre><p>Overloads the <code>‚Ñì</code> function for the case where no loss function is provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/loss.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.‚àÇh-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.‚àÇh-Tuple{AbstractGradientBasedGenerator, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.‚àÇh</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">‚àÇh(generator::AbstractGradientBasedGenerator, ce::AbstractCounterfactualExplanation)</code></pre><p>The default method to compute the gradient of the complexity penalty at the current counterfactual state for gradient-based generators. It assumes that <code>Zygote.jl</code> has gradient access.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/loss.jl#L17-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.‚àÇ‚Ñì-Tuple{AbstractGradientBasedGenerator, AbstractDifferentiableModel, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.‚àÇ‚Ñì-Tuple{AbstractGradientBasedGenerator, AbstractDifferentiableModel, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.‚àÇ‚Ñì</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">‚àÇ‚Ñì(generator::AbstractGradientBasedGenerator, M::Union{Models.LogisticModel, Models.BayesianLogisticModel}, ce::AbstractCounterfactualExplanation)</code></pre><p>The default method to compute the gradient of the loss function at the current counterfactual state for gradient-based generators. It assumes that <code>Zygote.jl</code> has gradient access.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/loss.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Generators.‚àá-Tuple{AbstractGradientBasedGenerator, AbstractDifferentiableModel, AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Generators.‚àá-Tuple{AbstractGradientBasedGenerator, AbstractDifferentiableModel, AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Generators.‚àá</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">‚àá(generator::AbstractGradientBasedGenerator, M::Models.AbstractDifferentiableModel, ce::AbstractCounterfactualExplanation)</code></pre><p>The default method to compute the gradient of the counterfactual search objective for gradient-based generators. It simply computes the weighted sum over partial derivates. It assumes that <code>Zygote.jl</code> has gradient access. If the counterfactual is being generated using Probe, the hinge loss is added to the gradient.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/generators/gradient_based/loss.jl#L30-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.distance_from_target-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.distance_from_target-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.distance_from_target</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">distance_from_target(
    ce::AbstractCounterfactualExplanation, p::Int=2; 
    agg=mean, K::Int=50
)</code></pre><p>Computes the distance of the counterfactual from a point in the target main.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/distance_utils.jl#L31-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CounterfactualExplanations.Objectives.model_loss_penalty-Tuple{AbstractCounterfactualExplanation}" href="#CounterfactualExplanations.Objectives.model_loss_penalty-Tuple{AbstractCounterfactualExplanation}"><code>CounterfactualExplanations.Objectives.model_loss_penalty</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function model_loss_penalty(
    ce::AbstractCounterfactualExplanation;
    agg=mean
)</code></pre><p>Additional penalty for ClaPROARGenerator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/juliatrustworthyai/CounterfactualExplanations.jl/blob/3a024b0b66a26b481851747495222e1821b69cfc/src/objectives/distance_utils.jl#L47-L54">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../how_to_guides/custom_models/">¬´ ... add custom models</a><a class="docs-footer-nextpage" href="../contribute/">üõ† Contribute ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 7 September 2023 10:13">Thursday 7 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
